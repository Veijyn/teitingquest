{"version":3,"file":"default-src_app_core_services_quest_service_ts.js","mappings":"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","sources":["./src/app/components/questlog/quest-pool.factory.ts","./src/app/core/services/game-save.service.ts","./src/app/core/services/inventory.service.ts","./src/app/core/services/player.service.ts","./src/app/core/services/quest.service.ts","./src/app/core/services/sound.service.ts","./src/app/core/utils/calculate-effective-stats.ts","./src/app/core/utils/xp-curve.ts","./node_modules/rxjs/dist/esm/internal/firstValueFrom.js"],"sourcesContent":["import { Quest } from '@core/models/quest.model';\r\n\r\nexport function createQuestPool(): Quest[] {\r\n  const now = new Date();\r\n\r\n  return [\r\n    {\r\n      id: 'tutorial',\r\n      title: 'Es ist noch kein Meister vom Himmel gefallen',\r\n      description: `Du bekommst Informationen über das Event, die dazugehörigen Regeln und die App. Außerdem erhältst du ein Triple Triad Starter Deck. Somit steht deinem großen Abenteuer nichts mehr im Wege.`,\r\n      type: 'main',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 25,\r\n      rewardMoney: 5,\r\n      // rewardItems:\r\n      // - Triple Triad Starter Deck\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'ff-quiz-kaktor',\r\n      title: 'Der glücklichste Ort auf Erden',\r\n      description: `Ein aufgeregter Kaktor ist außer Rand und Band und beschießt alle, die ihm zu nahe kommen mit seinen spitzen Nadeln. Du musst diesem Treiben ein Ende setzen. Er läuft flink umher doch nach einiger Zeit bist du in der Lage ihn zu stellen. Ob sich diese Entscheidung jedoch als weise herausstellt wird sich noch zeigen.`,\r\n      type: 'main',\r\n      status: 'open',\r\n      acquired: true,\r\n      rewardXp: 400,\r\n      rewardMoney: 25,\r\n      // rewardItems:\r\n      // - Zufällige A-Karte (Triple Triad)\r\n      // - Gold Saucer Eintrittskarte (Gold Saucer Quests freischalten)\r\n      //   (Chocobo-Rennen, Dosenschießen, Pokerturnier, Sackwerfen, Fingerdarts, Ringwurf)\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'memory-warrior-light',\r\n      title: 'Das Lied von Schatten und Licht',\r\n      description: `Dir tritt die Inkarnation des Kriegers des Lichts entgegen. Fest entschlossen verurteilt er dich die wahre Inkarnation des Bösen zu sein, der Krieger der Dunkelheit. Er hat bei seiner Ehre geschworen alles dafür zu geben um deinem finsteren Treiben ein Ende zu setzen. Eine epische Schlacht zwischen Licht und Finsternis entscheidet über das Schicksal dieser Welt.`,\r\n      type: 'main',\r\n      status: 'open',\r\n      acquired: true,\r\n      rewardXp: 400,\r\n      rewardMoney: 25,\r\n      // rewardItems:\r\n      // - Zufällige A-Karte (Triple Triad)\r\n      // - Ziehe 3 Karten und verteile Schlücke\r\n      //   (Bilder und Asse = 10 Schlücke; Joker = 15 Schlücke)\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'mimikry-gogo',\r\n      title: 'Tanz mit dem Teufel',\r\n      description: `Ein Mann in seltsamen Kleidern versperrt dir den Weg. Niemand vermag mit Sicherheit zu sagen, wer oder gar was hinter dieser Maskerade steckt... Was hat er nur vor?`,\r\n      type: 'main',\r\n      status: 'open',\r\n      acquired: true,\r\n      rewardXp: 400,\r\n      rewardMoney: 25,\r\n      // rewardItems:\r\n      // - Zufällige A-Karte (Triple Triad)\r\n      // - Magic the Gathering Deck (Cloud)\r\n      // - Schaltet die Nebenquest \"Eine magische Zusammenkunft\" frei\r\n      rewardItems: [],\r\n      followUpQuestIds: ['magic-roman'], // optionaler Verweis\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'music-siren',\r\n      title: 'Sirens Jukebox des Todes',\r\n      description: `Du nimmst einen wundervollen Klang in weiter Ferne wahr. Als du näher herantrittst ertönt eine Stimme in deinem Kopf. Die Stimme ersucht dich eine Beschwörungsformel aufzusagen, damit du ihn aus seiner Gefangenschaft befreien kannst. Du sprichst die Worte aus und ein wundersames Wesen mit Harfe und Flügeln manifestiert sich vor dir. Jedoch hat dieses Wesen seine wahren Absichten verschleiert, ehe du dich versiehst bist du in seinen Bann gezogen worden.`,\r\n      type: 'main',\r\n      status: 'open',\r\n      acquired: true,\r\n      rewardXp: 400,\r\n      rewardMoney: 25,\r\n      // rewardItems:\r\n      // - Zufällige A-Karte (Triple Triad)\r\n      // - 1x Abspotten (siehe Shop)\r\n      rewardItems: [{\r\n        id: 'abspotten',\r\n        name: 'Abspotten',\r\n        description: 'Jemand anderes muss saufen (gilt nicht für das Elixir des Lebens)',\r\n        icon: 'screaming.svg',\r\n        type: 'consumable',\r\n        price: 3,\r\n        acquiredAt: now\r\n      }],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'yojimbo-bribe',\r\n      title: 'Die Höhle des Löwen',\r\n      description: `Ein ehemaliger Soldat der Bürgerwehr wurde einst als Bestia wiedergeboren. Er hat die Gestalt eines großen Samurai angenommen, sein treuer Hund Daigoro steht ihm stets zur Seite. Deine lange Suche nach dem Samurai war von Erfolg gekrönt. Er wirkt zugleich neugierig und dennoch desinteressiert über deine Ankunft. Bist du in der Lage diesen legendären Krieger von deinem Unterfangen überzeugen zu können?`,\r\n      type: 'main',\r\n      status: 'open',\r\n      acquired: true,\r\n      rewardXp: 400,\r\n      rewardMoney: 25,\r\n      // rewardItems:\r\n      // - Zufällige A-Karte (Triple Triad)\r\n      // - Yojimbo kann ab sofort beschworen werden\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'alchemy-seymour',\r\n      title: 'Der flüssige Tod',\r\n      description: `„Suche nicht nach Erbarmen in mir, suche nicht nach Mitgefühl in mir. Ich bin nicht das gütige Kind dieses neuen Zeitalters. Ich bin der Fels auf dessen Fundament es ruht. Wenn du dich nach Hoffnung sehnst, schaue dir an was ich geschaffen habe. Perfektion in seiner wahren Form! Ich bin die einzige Hoffnung, die es gibt. Ich halte das Schicksal dieser Welt in meinen Händen.“`,\r\n      type: 'main',\r\n      status: 'open',\r\n      acquired: true,\r\n      rewardXp: 400,\r\n      rewardMoney: 25,\r\n      // rewardItems:\r\n      // - Zufällige A-Karte (Triple Triad)\r\n      // - Wahl zwischen 1x Potion / Stärke- / Geschicklichkeits- / Intelligenztrank\r\n      rewardItems: [\r\n        {\r\n          id: 'buff-strength',\r\n          name: 'Stärketrank (Bufffood)',\r\n          description: '5min +3 Stärke aber -1 Intelligenz (shared Cooldown 5min mit anderem Bufffood)\\n(1 Pinnchen Vodka)',\r\n          icon: 'standing-potion.svg',\r\n          type: 'buff',\r\n          price: 10,\r\n          bonusStats: { strength: 3, intelligence: -1 },\r\n          acquiredAt: now\r\n        },\r\n        {\r\n          id: 'buff-agility',\r\n          name: 'Geschicklichkeitstrank (Bufffood)',\r\n          description: '5min +3 Geschicklichkeit aber -1 Stärke (shared Cooldown 5min mit anderem Bufffood)\\n(1 Pinnchen Jägermeister)',\r\n          icon: 'potion-of-madness.svg',\r\n          type: 'buff',\r\n          price: 10,\r\n          bonusStats: { agility: 3, strength: -1 },\r\n          acquiredAt: now,\r\n        }\r\n      ],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'finale-tracking',\r\n      title: 'Finale Junggesellen Fantasien',\r\n      description: `Auf deiner Reise wirst du auf viele Gefahren und Hürden treffen. Sechs mächtige Feinde sind wie aus dem Nichts aufgetaucht und terrorisieren nun das Land. Es ist deine Bestimmung diese Bosse zu bezwingen, denn du bist der Auserwählte. Verzage nicht und sammle all deinen Mut. Die bevorstehenden Aufgaben erfordern deine ganze Stärke, Geschick, Intelligenz und auch Ausdauer. Du wirst mit jeder dir gestellten Prüfung wachsen und am Ende deiner Reise für deine Mühen entlohnt werden.`,\r\n      type: 'main',\r\n      status: 'open',\r\n      acquired: true,\r\n      // rewardItems:\r\n      // - 1x Triple Triad Set\r\n      // - 1x FF8 Poker Deck\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'chocobo-race',\r\n      title: 'Das Rennen der dunklen Feder',\r\n      description: `Gold Saucer Event (Für weitere Informationen siehe dir die separaten Spielregeln an)`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 175,\r\n      rewardMoney: 10,\r\n      // rewardItems:\r\n      // - 1x Bobbycar\r\n      rewardItems: [{\r\n        id: 'bobbycar',\r\n        name: 'Bobbycar',\r\n        description: 'Damit wirst du Spaß haben! Achte auf die Straßenverkehrsregeln.',\r\n        icon: 'chariot.svg',\r\n        type: 'quest',\r\n        price: 500,\r\n        acquiredAt: now,\r\n      }],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'can-throwing',\r\n      title: 'Schnaps-Schuss',\r\n      description: `Gold Saucer Event (Für weitere Informationen siehe dir die separaten Spielregeln an)`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      // rewardXp: 25/50/75 XP (abhängig vom High Score)\r\n      // rewardMoney: 5/10/15 Gil (abhängig vom High Score)\r\n      rewardXp: 150,\r\n      rewardMoney: 30,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'poker-tournament',\r\n      title: 'Der große Bluff der Bierbarone',\r\n      description: `Gold Saucer Event (Für weitere Informationen siehe dir die separaten Spielregeln an)`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      // rewardXp: 200 XP (max)\r\n      // rewardMoney: 30 Gil (max)\r\n      rewardXp: 200,\r\n      rewardMoney: 30,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'bean-bag',\r\n      title: 'Der Sack muss ins Loch!',\r\n      description: `Gold Saucer Event (Für weitere Informationen siehe dir die separaten Spielregeln an)`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 150,\r\n      rewardMoney: 30,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'fingerdarts',\r\n      title: 'Bullseye',\r\n      description: `Gold Saucer Event (Für weitere Informationen siehe dir die separaten Spielregeln an)`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 150,\r\n      rewardMoney: 30,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'ringwurf',\r\n      title: 'Ringe müssen her',\r\n      description: `Gold Saucer Event (Für weitere Informationen siehe dir die separaten Spielregeln an)`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 150,\r\n      rewardMoney: 30,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'grill-anfeuern',\r\n      title: 'Brutzelnder Ruhm',\r\n      description: `Zünde den Grill an und lege somit den Grundstein für ein fürstliches Mahl.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 75,\r\n      rewardMoney: 5,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'knoten-challenge',\r\n      title: 'Der Knoten war schon so, ehrlich!',\r\n      description: `Meistere alle Knoten in einer Zeit von 30 Minuten, Seemann.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'peruecke-stylen',\r\n      title: 'Haarspalterei',\r\n      description: `Sorge dafür, dass deine Haare (Perücke) richtig toll aussehen.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 125,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'bananarama',\r\n      title: 'Bananarama',\r\n      description: `Verzehre innerhalb von 12 Minuten vier schmackhafte Bananen hintereinander ohne zu kotzen.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 125,\r\n      rewardMoney: 10,\r\n      // rewardItems:\r\n      // - 1x Banane\r\n      rewardItems: [{\r\n        id: 'banana',\r\n        name: 'Banane',\r\n        description: 'Lecker Banane, schmeckt immer. Besonders zu Alkohol.',\r\n        icon: 'banana.svg',\r\n        type: 'quest',\r\n        price: 500,\r\n        acquiredAt: now,\r\n      }],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'dreh-lauf',\r\n      title: 'Die taumelnden Titanen',\r\n      description: `Drehe dich 20x um die eigene Achse und laufe im Anschluss innerhalb von 25 Sekunden durch ein Ziel, welches sich 15 Meter weit entfernt befindet. Währenddessen darfst du nicht umkippen oder kotzen (Drehwürmer sind gestattet).`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 200,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'seilchen',\r\n      title: 'Spring vor Glück',\r\n      description: `Suche dir einen Gegner aus und springe innerhalb einer Minute häufiger mit dem Seil als dein Kontrahent.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'magic-roman',\r\n      title: 'Eine magische Zusammenkunft',\r\n      description: `Gewinne eine Partie Magic the Gathering gegen Roman (die Regeln findest du im Shop).`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 200,\r\n      rewardMoney: 20,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'boccia',\r\n      title: 'Rock and Roll',\r\n      description: `Wähle einen Mitstreiter und zwei Gegner aus. Das Team, wessen Ball am Ende näher an der Markierung liegt gewinnt eine Partie. Gewinne 2 von 3 Partien um einen Sieg zu erringen.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 175,\r\n      rewardMoney: 15,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'willy-bier',\r\n      title: 'Wo ein Willy ist, ist auch ein Bier',\r\n      description: `Überzeuge Willy davon mit dir ein Bier im Gartenhaus zu trinken.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 75,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'schere-stein-papier',\r\n      title: 'Brunnen ist verboten!',\r\n      description: `Gewinne gegen alle anderen hintereinander in Schere, Stein, Papier.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'iq-test',\r\n      title: 'Weiser und Gelehrter',\r\n      description: `Stelle dich einem IQ-Test und beantworte entsprechende Fragen. Alle Fragen müssen korrekt beantwortet sein, damit die Aufgabe als bestanden gilt.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 125,\r\n      rewardMoney: 0,\r\n      // rewardItems:\r\n      // - 1x Intelligenztrank (siehe Shop)\r\n      rewardItems: [{\r\n        id: 'buff-intelligence',\r\n        name: 'Intelligenztrank (Bufffood)',\r\n        description: '5min +3 Intelligenz aber -1 Geschicklichkeit (shared Cooldown 5min mit anderem Bufffood)\\n(1 Pinnchen Rum)',\r\n        icon: 'magic-potion.svg',\r\n        type: 'buff',\r\n        price: 10,\r\n        bonusStats: { intelligence: 3, agility: -1 },\r\n        acquiredAt: now\r\n      }],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'flunkyball',\r\n      title: 'Blitzball-Turnier',\r\n      description: `Gewinne in einem brutalen 3 gegen 3 mit deinem Team gegen das gegnerische Team in Sven's Lieblingsspiel Flunky Ball.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 175,\r\n      rewardMoney: 15,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'bierpong',\r\n      title: 'Die roten Kelche des Kater-Königs',\r\n      description: `Gewinne in einem erfrischenden 3 gegen 3 mit deinem Team gegen das gegnerische Team in Bierpong.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 175,\r\n      rewardMoney: 15,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'bier-test',\r\n      title: 'Hopfen-Herausforderung des Braumeisters',\r\n      description: `Du erhältst zwei Biere, erkenne anhand des köstlichen Geschmacks das Oettinger Pils.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 75,\r\n      rewardMoney: 0,\r\n      // rewardItems:\r\n      // - 1x Potion (siehe Shop)\r\n      rewardItems: [{\r\n        id: 'potion',\r\n        name: 'Potion',\r\n        description: 'Heilt 10 HP (Cooldown 5min)\\n1 Glas Bier',\r\n        icon: 'health-potion.svg',\r\n        type: 'buff',\r\n        price: 5,\r\n        bonusStats: { hp: 10 },\r\n        acquiredAt: now,\r\n      }],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'blumen-pfluecken',\r\n      title: 'Vier Blumen für ein Hallelujah',\r\n      description: `Entdecke den Baumkuschler in dir! Finde und pflücke 4 verschiedene Blumenarten.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 100,\r\n      rewardMoney: 5,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'gil-gestohlen',\r\n      title: 'Der ganz große Coup',\r\n      description: `Deine hart verdienten Gil wurden dir gestohlen. Einer dieser sechs Verdächtigen muss es gewesen sein! Errate den Dieb, aber vorsicht – eine falsche Anschuldigung wird man dir übel nehmen.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'foto-mission',\r\n      title: 'Porträt-Panik',\r\n      description: `Mache mit allen Beteiligten ein schönes Erinnerungsfoto – entweder als Selfie oder mit Auslöser.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 75,\r\n      rewardMoney: 5,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'fruehstueck',\r\n      title: 'Toast der tausend Mägen',\r\n      description: `Bereite ein nahrhaftes Frühstück in Form von Rührei für die Gruppe vor.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 150,\r\n      rewardMoney: 15,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'kueche-aufraeumen',\r\n      title: 'Moogle-Mopp-Mission',\r\n      description: `Die Küche muss \"besenrein\" sein, Captain Milosz meldet sich nicht zum Putzdienst.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 200,\r\n      rewardMoney: 15,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'piktomant',\r\n      title: 'Der Weg des Piktomanten',\r\n      description: `Zeichne ein vorgegebenes Bild innerhalb von 5 Minuten nach – kannst du die Kunstkritiker zufriedenstellen?`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 125,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'eierlauf',\r\n      title: 'Eieiei',\r\n      description: `Transportiere ein Ei mit einem Löffel im Mund 15 Meter nach vorne ohne, dass es herunterfällt. Laufe einfach dabei wie auf Eierschalen.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 175,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'triple-triad',\r\n      title: 'Das Herz der Karten',\r\n      description: `Gewinne dein erstes Triple Triad Spiel.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 125,\r\n      rewardMoney: 0,\r\n      // rewardItems:\r\n      // - 1x Triple Triad Karte \"Common\" (siehe Shop)\r\n      rewardItems: [{\r\n        id: 'tt-card-common',\r\n        name: 'Triple Triad Karte Common',\r\n        description: '1 Zufallskarte Triple Triad Stufe 2–3',\r\n        icon: 'card-random.svg',\r\n        type: 'quest',\r\n        price: 10,\r\n        acquiredAt: now\r\n      }],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'kniebeugen',\r\n      title: 'Rhythmus im Blut',\r\n      description: `Mache 30 Kniebeugen im perfekten Rhythmus – ein Gruppenmitglied zählt im Takt 1-2-3-herunter. Wer aus dem Takt kommt, fängt von vorne an.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'escort',\r\n      title: 'Bitte nicht alleine lassen',\r\n      description: `Begleite ein Gruppenmitglied auf seiner Reise und schütze ihn dabei vor allen Gefahren.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 175,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'milosz-spiel',\r\n      title: 'Milosz – Das Spiel',\r\n      description: `Milosz.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 200,\r\n      rewardMoney: 20,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'nicht-lachen',\r\n      title: 'Warum denn so ernst?',\r\n      description: `Suche dir einen Teampartner und zwei Gegner aus (Milosz ist der Moderator). Ihr müsst euch über mehrere Runden witzige Dinge angucken und dürft dabei nicht lachen, ansonsten gilt die Runde als verloren und das gegnerische Team bekommt einen Punkt. Welches Team zuerst 8 Punkte hat, gewinnt.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'daumen-wrestling',\r\n      title: 'Daumen-König',\r\n      description: `Tritt gegen jeden Kontrahenten hintereinander im Daumenwrestling an.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'papierflieger',\r\n      title: 'Hoch hinaus',\r\n      description: `Suche dir einen Gegner aus, anschließend baut ihr beide einen Papierflieger. Der Papierflieger, der eine größere Strecke zurücklegt, gewinnt.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 125,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'karaoke',\r\n      title: 'Karaoke Abend',\r\n      description: `Singe dein Lieblingslied.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 100,\r\n      rewardMoney: 5,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'armdruecken',\r\n      title: 'Muskeln aus Stahl',\r\n      description: `Fordere jemanden zu einem Armdrückduell heraus und gewinne.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'vogelsuche',\r\n      title: 'Chocobo Snap',\r\n      description: `Mache ein Selfie mit einem Vogel.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'mario-kart',\r\n      title: 'Heißes Pflaster',\r\n      description: `Patrick muss immer den ersten Platz auf dem Schwierigkeitsgrad 100cc Star Cup Race belegen.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 175,\r\n      rewardMoney: 15,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'versteckspiel',\r\n      title: '1 2 3 4 Eckstein',\r\n      description: `Zähle bis 10 und suche den versteckten Kaktor innerhalb von 5 Minuten.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'mordfall',\r\n      title: 'Wer erschoss Mr Milosz?',\r\n      description: `Ein Mord hat sich ereignet. Nutze all deine Kombinationsfähigkeit, um diesen schwierigen Fall zu lösen. Der Fall gilt erst als abgeschlossen, wenn es genügend Beweise für eine gerichtsfeste Anklage oder Verurteilung gibt.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      repeatable: true,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    }\r\n  ];\r\n}\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { NgxIndexedDBService } from 'ngx-indexed-db';\r\nimport { GameState } from '../models/game-state.model';\r\nimport { firstValueFrom } from 'rxjs';\r\nimport { PlayerService } from './player.service';\r\nimport { InventoryService } from './inventory.service';\r\nimport { ShopService } from './shop.service';\r\nimport { BattleService } from './battle.service';\r\nimport { BossService } from './boss.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class GameSaveService {\r\n  private lastGameStateId!: number;\r\n  private currentSnapshotBuilder!: () => GameState;\r\n\r\n  constructor(private db: NgxIndexedDBService) {}\r\n\r\n  registerSnapshotBuilder(builder: () => GameState) {\r\n    this.currentSnapshotBuilder = builder;\r\n  }\r\n\r\n  async saveNewGame(state: Omit<GameState, 'id'>): Promise<GameState> {\r\n    state.updatedAt = new Date();\r\n    const result = await firstValueFrom(this.db.add('gameStates', state));\r\n    const id = typeof result === 'number' ? result : (result as any).id;\r\n    this.lastGameStateId = id;\r\n    return { ...state, id };\r\n  }\r\n\r\n  async updateCurrentGame(): Promise<GameState> {\r\n    if (!this.currentSnapshotBuilder) throw new Error('No snapshot builder registered.');\r\n    const snapshot = this.currentSnapshotBuilder();\r\n    snapshot.updatedAt = new Date();\r\n    return this.updateGame(snapshot);\r\n  }\r\n\r\n  async updateGame(state: GameState): Promise<GameState> {\r\n    await firstValueFrom(this.db.update('gameStates', state));\r\n    return state;\r\n  }\r\n\r\n  async loadGame(id: number): Promise<GameState> {\r\n    this.lastGameStateId = id;\r\n    return firstValueFrom(this.db.getByKey('gameStates', id));\r\n  }\r\n\r\n  async listGames(): Promise<GameState[]> {\r\n    return firstValueFrom(this.db.getAll('gameStates'));\r\n  }\r\n}\r\n\r\n  /* deleteGame(id: number): Promise<void> {\r\n   return firstValueFrom(this.db.delete('gameStates', id));\r\n   }*/\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { Item } from '../models/item.model';\r\nimport { ToastService } from '@views/toasts/toast.service';\r\nimport { GameSaveService } from './game-save.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class InventoryService {\r\n  private items$ = new BehaviorSubject<Item[]>([]);\r\n\r\n  constructor(private toast: ToastService, private gameSave: GameSaveService) { }\r\n\r\n  setInventory(items: Item[]) {\r\n    this.commit(items);\r\n  }\r\n\r\n  getInventory() {\r\n    return this.items$.asObservable();\r\n  }\r\n\r\n  addItem(item: Item) {\r\n    const current = this.items$.value;\r\n    const updated = [...current, item];\r\n    this.commit(updated);\r\n  }\r\n\r\n  addItems(items: Item[]) {\r\n    const current = this.items$.value;\r\n    const updated = [...current, ...items];\r\n    this.commit(updated);\r\n  }\r\n\r\n  unlockItemById(id: string): boolean {\r\n    const current = this.getSnapshot();\r\n    let updated = false;\r\n\r\n    const newInventory = current.map(item => {\r\n      if (item.id === id && item.available !== true) {\r\n        updated = true;\r\n        return { ...item, available: true };\r\n      }\r\n      return item;\r\n    });\r\n\r\n    if (updated) {\r\n      this.setInventory(newInventory);\r\n    }\r\n\r\n    return updated;\r\n  }\r\n\r\n  removeItem(id: string) {\r\n    const current = this.items$.value;\r\n    const updated = current.filter(item => item.id !== id);\r\n    this.commit(updated);\r\n  }\r\n\r\n  updateEquippedStatus(id: string, equipped: boolean) {\r\n    const current = this.items$.value;\r\n    const updated = current.map(item =>\r\n      item.id === id ? { ...item, equipped } : item\r\n    );\r\n    this.commit(updated);\r\n  }\r\n\r\n  removeSingleItem(itemToRemove: Item) {\r\n    const current = this.items$.value;\r\n    const index = current.findIndex(i => i.id === itemToRemove.id && i.acquiredAt === itemToRemove.acquiredAt);\r\n    if (index !== -1) {\r\n      current.splice(index, 1);\r\n      this.commit([...current]);\r\n    }\r\n  }\r\n\r\n\r\n  getSnapshot(): Item[] {\r\n    return this.items$.value;\r\n  }\r\n\r\n  private commit(updated: Item[]) {\r\n    this.items$.next(updated);\r\n    this.gameSave.updateCurrentGame();\r\n  }\r\n}\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { PlayerStats } from '../models/player-stats.model';\r\nimport { Item } from '@core/models/item.model';\r\nimport { calculateEffectiveStats } from '@core/utils/calculate-effective-stats';\r\nimport { GameSaveService } from './game-save.service';\r\nimport { getLevelForXp } from '../utils/xp-curve';\r\nimport { ToastService } from '@views/toasts/toast.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class PlayerService {\r\n  private player$ = new BehaviorSubject<PlayerStats | null>(null);\r\n\r\n  constructor(private gameSave: GameSaveService, private toast: ToastService) { }\r\n\r\n  setPlayer(stats: PlayerStats) {\r\n    this.player$.next({ ...stats });\r\n  }\r\n\r\n  getPlayer() {\r\n    return this.player$.asObservable();\r\n  }\r\n\r\n  getSnapshot(): PlayerStats | null {\r\n    return this.player$.value;\r\n  }\r\n\r\n  updatePlayer(stats: PlayerStats) {\r\n    this.player$.next({ ...stats });\r\n    this.gameSave.updateCurrentGame();\r\n  }\r\n\r\n  pay(amount: number): boolean {\r\n    const stats = this.player$.value;\r\n    if (!stats || stats.money < amount) return false;\r\n\r\n    stats.money -= amount;\r\n    this.commit(stats); // nutzt jetzt zentrale commit-Methode\r\n    return true;\r\n  }\r\n\r\n  addXp(amount: number) {\r\n    const stats = this.player$.value;\r\n    if (!stats) return;\r\n\r\n    const oldLevel = stats.level;\r\n    const newXp = stats.experience + amount;\r\n    const newLevel = getLevelForXp(newXp);\r\n\r\n    const levelDiff = newLevel - oldLevel;\r\n\r\n    if (levelDiff > 0) {\r\n      this.toast.show(`Du bist jetzt Level ${newLevel}!`);\r\n\r\n      // Dauerhafte Stat-Increases (Basiswerte!)\r\n      stats.hp += 3 * levelDiff;\r\n      stats.strength += 1 * levelDiff;\r\n      stats.agility += 1 * levelDiff;\r\n      stats.intelligence += 1 * levelDiff;\r\n    }\r\n\r\n    this.commit({\r\n      ...stats,\r\n      experience: newXp,\r\n      level: newLevel\r\n    });\r\n  }\r\n\r\n  addMoney(amount: number) {\r\n    const stats = this.player$.value;\r\n    if (!stats) return;\r\n    stats.money += amount;\r\n    this.commit(stats);\r\n  }\r\n\r\n  heal(amount: number) {\r\n    const stats = this.player$.value;\r\n    if (!stats) return;\r\n    stats.hp += amount;\r\n    this.commit(stats);\r\n  }\r\n\r\n  updateStats(partial: Partial<PlayerStats>) {\r\n    const stats = this.player$.value;\r\n    if (!stats) return;\r\n    this.commit({ ...stats, ...partial });\r\n  }\r\n\r\n  getEffectiveStats(): PlayerStats | null {\r\n    const player = this.player$.value;\r\n    return player ? calculateEffectiveStats(player) : null;\r\n  }\r\n\r\n  updateQuizResult(quizKey: string, percent: number): void {\r\n  const stats = this.player$.value;\r\n  if (!stats) return;\r\n\r\n  const updatedResults = { ...(stats.quizResults || {}), [quizKey]: percent };\r\n  this.commit({ ...stats, quizResults: updatedResults });\r\n}\r\n\r\n\r\n  removeExpiredBuffs() {\r\n    const stats = this.player$.value;\r\n    if (!stats || !stats.activeBuffs) return;    \r\n\r\n    const now = new Date();\r\n    const stillValid = stats.activeBuffs.filter(buff => {\r\n      const validUntil = (buff as any).validUntil;\r\n      return !validUntil || new Date(validUntil) > now;\r\n    });\r\n\r\n    if (stillValid.length !== stats.activeBuffs.length) {\r\n      this.commit({ ...stats, activeBuffs: stillValid });\r\n    }\r\n  }\r\n\r\n\r\n  equipItem(item: Item): void {\r\n    const stats = this.player$.value;\r\n    if (!stats || !item.slot) return;\r\n    const filtered = (stats.equippedItems ?? []).filter(i => i.slot !== item.slot);\r\n    const updatedItem = { ...item, equipped: true };\r\n    stats.equippedItems = [...filtered, updatedItem];\r\n    this.commit(stats);\r\n  }\r\n\r\n  unequipItem(slot: string): void {\r\n    const stats = this.player$.value;\r\n    if (!stats) return;\r\n    stats.equippedItems = (stats.equippedItems ?? []).filter(i => i.slot !== slot);\r\n    this.commit(stats);\r\n  }\r\n\r\n  addBuff(item: Item, durationMs: number) {\r\n    const stats = this.player$.value;\r\n    if (!stats) return;\r\n    const buffItem = {\r\n      ...item,\r\n      validUntil: new Date(Date.now() + durationMs)\r\n    };\r\n    stats.activeBuffs = [...(stats.activeBuffs ?? []), buffItem];\r\n    this.commit(stats);\r\n  }\r\n\r\n  private commit(updated: PlayerStats) {\r\n    this.player$.next({ ...updated });\r\n    this.gameSave.updateCurrentGame();\r\n  }\r\n}\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { Quest } from '../models/quest.model';\r\nimport { createQuestPool } from '@components/questlog/quest-pool.factory';\r\nimport { InventoryService } from './inventory.service';\r\nimport { PlayerService } from './player.service';\r\nimport { GameSaveService } from './game-save.service';\r\nimport { ToastService } from '@views/toasts/toast.service';\r\nimport { SoundService } from './sound.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class QuestService {\r\n  private quests$ = new BehaviorSubject<Quest[]>([]);\r\n  private questPool = createQuestPool();\r\n\r\n  constructor(\r\n    private inventoryService: InventoryService,\r\n    private playerService: PlayerService,\r\n    private gameSave: GameSaveService,\r\n    private toastService: ToastService,\r\n    private soundService: SoundService\r\n  ) { }\r\n\r\n  setQuests(quests: Quest[]) {\r\n    this.quests$.next([...quests]);\r\n  }\r\n\r\n  getQuests() {\r\n    return this.quests$.asObservable();\r\n  }\r\n\r\n  addQuest(quest: Quest) {\r\n    const current = this.quests$.value;\r\n    const exists = current.some(q => q.id === quest.id && !quest.repeatable);\r\n    if (exists) return;\r\n\r\n    const newQuest = { ...quest, createdAt: new Date() };\r\n    const updated = [...current, newQuest];\r\n\r\n    this.commit(updated); // ✅ persistente Speicherung\r\n  }\r\n\r\n  /** Aufrufbar per QR-Scan */\r\n  addQuestById(id: string): boolean {\r\n    const template = this.questPool.find(q => q.id === id);\r\n    if (!template) return false;\r\n\r\n    this.addQuest({ ...template, acquired: true });\r\n    return true;\r\n  }\r\n\r\n  unlockQuestById(id: string): boolean {\r\n    const updated = this.quests$.value.map(q => {\r\n      if (q.id !== id || q.acquired) return q;\r\n\r\n      return {\r\n        ...q,\r\n        acquired: true,\r\n        createdAt: new Date()\r\n      };\r\n    });\r\n\r\n    const wasUpdated = updated.some(q => q.id === id && q.acquired);\r\n    if (wasUpdated) {\r\n      this.commit(updated);\r\n    }\r\n\r\n    return wasUpdated;\r\n  }\r\n\r\n  markQuestAcquired(id: string) {\r\n    const updated = this.quests$.value.map(q =>\r\n      q.id === id\r\n        ? { ...q, acquired: true, createdAt: q.createdAt ?? new Date() }\r\n        : q\r\n    );\r\n    this.commit(updated);\r\n  }\r\n\r\n  getFromPoolById(id: string) {\r\n    return this.questPool.find(q => q.id === id);\r\n  }\r\n\r\n  getSnapshot(): Quest[] {\r\n    return this.quests$.value;\r\n  }\r\n\r\n  setFromSnapshot(snapshot: Quest[]) {\r\n    this.quests$.next(snapshot);\r\n  }\r\n\r\n  markCompleted(id: string, inventoryService: InventoryService, playerService: PlayerService) {\r\n    const updated = this.quests$.value.map(q => {\r\n      if (q.id !== id) return q;\r\n\r\n      // Rewards:\r\n      if (q.rewardItems?.length) {\r\n        const rewardItems = q.rewardItems.map(item => ({ ...item, acquiredAt: new Date() }));\r\n        inventoryService.addItems(rewardItems);\r\n      }\r\n\r\n      if (q.rewardXp) {\r\n        playerService.addXp(q.rewardXp);\r\n      }\r\n\r\n      if (q.rewardMoney) {\r\n        playerService.addMoney(q.rewardMoney);\r\n      }\r\n\r\n      // Folgequests hinzufügen\r\n      if (q.followUpQuestIds?.length) {\r\n        for (const nextId of q.followUpQuestIds) {\r\n          const template = this.questPool.find(q => q.id === nextId);\r\n          if (template) {\r\n            this.addQuest({ ...template, createdAt: new Date() });\r\n          }\r\n        }\r\n      }\r\n\r\n      return { ...q, status: 'completed', completedAt: new Date() } as Quest;\r\n    });\r\n\r\n    // Quests zählen\r\n    const completedCount = updated.filter(q => q.status === 'completed').length;\r\n    playerService.updateStats({ questsCompleted: completedCount });\r\n\r\n    // Neue Equipment-Items freischalten\r\n    const inventory = this.inventoryService.getSnapshot();\r\n    const newUnlocks: string[] = [];\r\n\r\n    const updatedInventory = inventory.map(item => {\r\n      if (\r\n        item.type === 'equipment' &&\r\n        item.questsRequired != null &&\r\n        item.questsRequired <= completedCount &&\r\n        item.available !== true\r\n      ) {\r\n        newUnlocks.push(item.name);\r\n        return { ...item, available: true };\r\n      }\r\n      return item;\r\n    });\r\n\r\n    if (newUnlocks.length > 0) {\r\n      this.inventoryService.setInventory(updatedInventory);\r\n\r\n      this.toastService.show(`Neue Ausrüstung freigeschaltet:\\n- ${newUnlocks.join('\\n- ')}`);\r\n    }\r\n    this.soundService.playEffect(\"boss-besiegt-quest-erfuellt\");\r\n    this.commit(updated as Quest[]);\r\n  }\r\n\r\n  startQuest(id: string) {\r\n    const updated = this.quests$.value.map(q =>\r\n      q.id === id && q.status === 'open' ? { ...q, status: 'doing' } : q\r\n    );\r\n    this.soundService.playEffect('quest-annahme');\r\n    this.commit(updated as Quest[]);\r\n  }\r\n\r\n  failQuest(id: string) {\r\n    const updated = this.quests$.value.map(q => {\r\n      if (q.id !== id) return q;\r\n\r\n      let failedAttempts = q.failedAttempts ?? 0;\r\n      failedAttempts++;\r\n\r\n      const canRetry = q.repeatable ?? false;\r\n\r\n      return {\r\n        ...q,\r\n        status: canRetry ? 'open' : 'failed',\r\n        failedAttempts\r\n      };\r\n    });\r\n    this.soundService.playEffect('quest-fehlgeschlagen');\r\n    this.commit(updated as Quest[]);\r\n  }\r\n\r\n  cancelQuest(id: string) {\r\n    const updated = this.quests$.value.map(q =>\r\n      q.id === id && q.status === 'doing' ? { ...q, status: 'open' } : q\r\n    );\r\n    this.commit(updated as Quest[]);\r\n  }\r\n\r\n  private commit(updated: Quest[]) {\r\n    this.quests$.next(updated);\r\n    this.gameSave.updateCurrentGame();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class SoundService {\r\n  play(src: string): void {\r\n    const audio = new Audio(src);\r\n    audio.volume = 0.8; // anpassbar\r\n    audio.play().catch(err => console.error('Soundfehler:', err));\r\n  }\r\n\r\n  playEffect(name: string): void {\r\n    this.play(`assets/sounds/${name}.mp3`);\r\n  }\r\n\r\n  playBossMusic(bossId: string): void {\r\n    this.play(`assets/sounds/boss-${bossId}.mp3`);\r\n  }\r\n\r\n}\r\n","// utils/calculate-effective-stats.ts\r\nimport { PlayerStats } from '../models/player-stats.model';\r\nimport { Item } from '../models/item.model';\r\n\r\nexport function calculateEffectiveStats(player: PlayerStats): PlayerStats {\r\n  const now = new Date();\r\n\r\n  const numericStats: (keyof PlayerStats)[] = ['strength', 'agility', 'intelligence', 'hp'];\r\n\r\n  const bonuses: Record<keyof PlayerStats, number> = {\r\n      strength: 0,\r\n      agility: 0,\r\n      intelligence: 0,\r\n      hp: 0,\r\n      money: 0,\r\n      level: 0,\r\n      experience: 0,\r\n      questsCompleted: 0,\r\n      equippedItems: 0,\r\n      activeBuffs: 0,\r\n      lastBuffFoodUsedAt: 0,\r\n      lastPotionUsedAt: 0,\r\n      quizResults: 0\r\n  };\r\n\r\n  // Ausrüstung\r\n  for (const item of player.equippedItems ?? []) {\r\n    if (!item.bonusStats) continue;\r\n\r\n    for (const key in item.bonusStats) {\r\n      const stat = key as keyof PlayerStats;\r\n      const val = item.bonusStats[stat];\r\n      if (numericStats.includes(stat) && typeof val === 'number') {\r\n        bonuses[stat] += val; // ✅ berücksichtigt auch negative Werte\r\n      }\r\n    }\r\n  }\r\n\r\n  // Aktive Buffs\r\n  for (const item of (player.activeBuffs ?? [])) {\r\n    const validUntil = (item as any).validUntil as Date | undefined;\r\n    if (validUntil && new Date() > new Date(validUntil)) continue;\r\n\r\n    if (!item.bonusStats) continue;\r\n\r\n    for (const key in item.bonusStats) {\r\n      const stat = key as keyof PlayerStats;\r\n      const val = item.bonusStats[stat];\r\n      if (numericStats.includes(stat) && typeof val === 'number') {\r\n        bonuses[stat] += val; // ✅ auch hier: negativ erlaubt\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    ...player,\r\n    strength: player.strength + bonuses.strength,\r\n    agility: player.agility + bonuses.agility,\r\n    intelligence: player.intelligence + bonuses.intelligence,\r\n    hp: player.hp + bonuses.hp,\r\n  };\r\n}\r\n","export const XP_TABLE = [\r\n  0,     // Level 1\r\n  100,   // Level 2\r\n  350,   // Level 3\r\n  700,   // Level 4\r\n  1200,  // Level 5\r\n  1900,  // Level 6\r\n  2800,  // Level 7\r\n  3900,  // Level 8\r\n  5200,  // Level 9\r\n  7400   // Level 10\r\n];\r\n\r\nexport function getLevelForXp(xp: number): number {\r\n  for (let i = XP_TABLE.length - 1; i >= 0; i--) {\r\n    if (xp >= XP_TABLE[i]) return i + 1;\r\n  }\r\n  return 1;\r\n}","import { EmptyError } from './util/EmptyError';\nimport { SafeSubscriber } from './Subscriber';\nexport function firstValueFrom(source, config) {\n    const hasConfig = typeof config === 'object';\n    return new Promise((resolve, reject) => {\n        const subscriber = new SafeSubscriber({\n            next: (value) => {\n                resolve(value);\n                subscriber.unsubscribe();\n            },\n            error: reject,\n            complete: () => {\n                if (hasConfig) {\n                    resolve(config.defaultValue);\n                }\n                else {\n                    reject(new EmptyError());\n                }\n            },\n        });\n        source.subscribe(subscriber);\n    });\n}\n"],"names":["createQuestPool","now","Date","id","title","description","type","status","acquired","repeatable","rewardXp","rewardMoney","rewardItems","createdAt","followUpQuestIds","name","icon","price","acquiredAt","bonusStats","strength","intelligence","agility","hp","NgxIndexedDBService","firstValueFrom","GameSaveService","db","lastGameStateId","currentSnapshotBuilder","constructor","registerSnapshotBuilder","builder","saveNewGame","state","_this","_asyncToGenerator","updatedAt","result","add","updateCurrentGame","_this2","Error","snapshot","updateGame","_this3","update","loadGame","_this4","getByKey","listGames","_this5","getAll","i0","ɵɵinject","i1","factory","ɵfac","providedIn","BehaviorSubject","ToastService","InventoryService","toast","gameSave","items$","setInventory","items","commit","getInventory","asObservable","addItem","item","current","value","updated","addItems","unlockItemById","getSnapshot","newInventory","map","available","removeItem","filter","updateEquippedStatus","equipped","removeSingleItem","itemToRemove","index","findIndex","i","splice","next","i2","calculateEffectiveStats","getLevelForXp","PlayerService","player$","setPlayer","stats","getPlayer","updatePlayer","pay","amount","money","addXp","oldLevel","level","newXp","experience","newLevel","levelDiff","show","addMoney","heal","updateStats","partial","getEffectiveStats","player","updateQuizResult","quizKey","percent","updatedResults","quizResults","removeExpiredBuffs","activeBuffs","stillValid","buff","validUntil","length","equipItem","slot","filtered","equippedItems","updatedItem","unequipItem","addBuff","durationMs","buffItem","SoundService","QuestService","inventoryService","playerService","toastService","soundService","quests$","questPool","setQuests","quests","getQuests","addQuest","quest","exists","some","q","newQuest","addQuestById","template","find","unlockQuestById","wasUpdated","markQuestAcquired","getFromPoolById","setFromSnapshot","markCompleted","nextId","completedAt","completedCount","questsCompleted","inventory","newUnlocks","updatedInventory","questsRequired","push","join","playEffect","startQuest","failQuest","failedAttempts","canRetry","cancelQuest","i3","i4","i5","play","src","audio","Audio","volume","catch","err","console","error","playBossMusic","bossId","numericStats","bonuses","lastBuffFoodUsedAt","lastPotionUsedAt","key","stat","val","includes","XP_TABLE","xp","EmptyError","SafeSubscriber","source","config","hasConfig","Promise","resolve","reject","subscriber","unsubscribe","complete","defaultValue","subscribe"],"sourceRoot":"webpack:///","x_google_ignoreList":[8]}