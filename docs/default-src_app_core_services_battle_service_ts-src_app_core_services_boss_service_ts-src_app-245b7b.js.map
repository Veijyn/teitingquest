{"version":3,"file":"default-src_app_core_services_battle_service_ts-src_app_core_services_boss_service_ts-src_app-245b7b.js","mappings":";;;;;;;;;;;;;AAEM,SAAUA,eAAeA,CAAA;EAC7B,MAAMC,GAAG,GAAG,IAAIC,IAAI,EAAE;EAEtB,OAAO,CACL;IACEC,EAAE,EAAE,UAAU;IACdC,KAAK,EAAE,8CAA8C;IACrDC,WAAW,EAAE,8LAA8L;IAC3MC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,IAAI;IACdC,QAAQ,EAAE,EAAE;IACZC,WAAW,EAAE,CAAC;IACd;IACA;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,gBAAgB;IACpBC,KAAK,EAAE,gCAAgC;IACvCC,WAAW,EAAE,+TAA+T;IAC5UC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,IAAI;IACdC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACA;IACA;IACA;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,sBAAsB;IAC1BC,KAAK,EAAE,iCAAiC;IACxCC,WAAW,EAAE,8WAA8W;IAC3XC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,IAAI;IACdC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACA;IACA;IACA;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,cAAc;IAClBC,KAAK,EAAE,qBAAqB;IAC5BC,WAAW,EAAE,8KAA8K;IAC3LC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,IAAI;IACdC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACA;IACA;IACA;IACAC,WAAW,EAAE,EAAE;IACfE,gBAAgB,EAAE,CAAC,aAAa,CAAC;IAAE;IACnCD,SAAS,EAAEX;GACZ,EACG;IACFE,EAAE,EAAE,aAAa;IACjBC,KAAK,EAAE,0BAA0B;IACjCC,WAAW,EAAE,0cAA0c;IACvdC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,IAAI;IACdC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACA;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,eAAe;IACnBC,KAAK,EAAE,qBAAqB;IAC5BC,WAAW,EAAE,sZAAsZ;IACnaC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,IAAI;IACdC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACA;IACA;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,iBAAiB;IACrBC,KAAK,EAAE,kBAAkB;IACzBC,WAAW,EAAE,2XAA2X;IACxYC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,IAAI;IACdC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACA;IACA;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,iBAAiB;IACrBC,KAAK,EAAE,+BAA+B;IACtCC,WAAW,EAAE,oeAAoe;IACjfC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,IAAI;IACd;IACA;IACA;IACAG,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACG;IACFE,EAAE,EAAE,cAAc;IAClBC,KAAK,EAAE,8BAA8B;IACrCC,WAAW,EAAE,sFAAsF;IACnGC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,IAAI;IACdC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACA;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,cAAc;IAClBC,KAAK,EAAE,gBAAgB;IACvBC,WAAW,EAAE,sFAAsF;IACnGC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,IAAI;IACd;IACA;IACAC,QAAQ,EAAE,EAAE;IACZC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,kBAAkB;IACtBC,KAAK,EAAE,gCAAgC;IACvCC,WAAW,EAAE,sFAAsF;IACnGC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,IAAI;IACd;IACA;IACAC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,UAAU;IACdC,KAAK,EAAE,yBAAyB;IAChCC,WAAW,EAAE,sFAAsF;IACnGC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,IAAI;IACdC,QAAQ,EAAE,EAAE;IACZC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,aAAa;IACjBC,KAAK,EAAE,UAAU;IACjBC,WAAW,EAAE,sFAAsF;IACnGC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,IAAI;IACdC,QAAQ,EAAE,EAAE;IACZC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,UAAU;IACdC,KAAK,EAAE,kBAAkB;IACzBC,WAAW,EAAE,sFAAsF;IACnGC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,EAAE;IACZC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACG;IACFE,EAAE,EAAE,gBAAgB;IACpBC,KAAK,EAAE,kBAAkB;IACzBC,WAAW,EAAE,4EAA4E;IACzFC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,EAAE;IACZC,WAAW,EAAE,CAAC;IACd;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,kBAAkB;IACtBC,KAAK,EAAE,mCAAmC;IAC1CC,WAAW,EAAE,6DAA6D;IAC1EC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,iBAAiB;IACrBC,KAAK,EAAE,eAAe;IACtBC,WAAW,EAAE,gEAAgE;IAC7EC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,YAAY;IAChBC,KAAK,EAAE,YAAY;IACnBC,WAAW,EAAE,4FAA4F;IACzGC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACA;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,WAAW;IACfC,KAAK,EAAE,wBAAwB;IAC/BC,WAAW,EAAE,mOAAmO;IAChPC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,UAAU;IACdC,KAAK,EAAE,kBAAkB;IACzBC,WAAW,EAAE,0GAA0G;IACvHC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,aAAa;IACjBC,KAAK,EAAE,6BAA6B;IACpCC,WAAW,EAAE,sFAAsF;IACnGC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACG;IACFE,EAAE,EAAE,QAAQ;IACZC,KAAK,EAAE,eAAe;IACtBC,WAAW,EAAE,kLAAkL;IAC/LC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,YAAY;IAChBC,KAAK,EAAE,qCAAqC;IAC5CC,WAAW,EAAE,kEAAkE;IAC/EC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,EAAE;IACZC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,qBAAqB;IACzBC,KAAK,EAAE,uBAAuB;IAC9BC,WAAW,EAAE,qEAAqE;IAClFC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,SAAS;IACbC,KAAK,EAAE,sBAAsB;IAC7BC,WAAW,EAAE,qJAAqJ;IAClKC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,CAAC;IACd;IACA;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,YAAY;IAChBC,KAAK,EAAE,mBAAmB;IAC1BC,WAAW,EAAE,sHAAsH;IACnIC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,UAAU;IACdC,KAAK,EAAE,mCAAmC;IAC1CC,WAAW,EAAE,kGAAkG;IAC/GC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,WAAW;IACfC,KAAK,EAAE,yCAAyC;IAChDC,WAAW,EAAE,sFAAsF;IACnGC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,EAAE;IACZC,WAAW,EAAE,CAAC;IACd;IACA;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACG;IACFE,EAAE,EAAE,kBAAkB;IACtBC,KAAK,EAAE,gCAAgC;IACvCC,WAAW,EAAE,iFAAiF;IAC9FC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,CAAC;IACd;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,eAAe;IACnBC,KAAK,EAAE,qBAAqB;IAC5BC,WAAW,EAAE,6LAA6L;IAC1MC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,cAAc;IAClBC,KAAK,EAAE,eAAe;IACtBC,WAAW,EAAE,kGAAkG;IAC/GC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,EAAE;IACZC,WAAW,EAAE,CAAC;IACd;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,aAAa;IACjBC,KAAK,EAAE,yBAAyB;IAChCC,WAAW,EAAE,yEAAyE;IACtFC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,mBAAmB;IACvBC,KAAK,EAAE,qBAAqB;IAC5BC,WAAW,EAAE,mFAAmF;IAChGC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,WAAW;IACfC,KAAK,EAAE,yBAAyB;IAChCC,WAAW,EAAE,4GAA4G;IACzHC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,UAAU;IACdC,KAAK,EAAE,QAAQ;IACfC,WAAW,EAAE,yIAAyI;IACtJC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACG;IACFE,EAAE,EAAE,cAAc;IAClBC,KAAK,EAAE,qBAAqB;IAC5BC,WAAW,EAAE,yCAAyC;IACtDC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,CAAC;IACd;IACA;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,YAAY;IAChBC,KAAK,EAAE,kBAAkB;IACzBC,WAAW,EAAE,2IAA2I;IACxJC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,QAAQ;IACZC,KAAK,EAAE,4BAA4B;IACnCC,WAAW,EAAE,yFAAyF;IACtGC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,cAAc;IAClBC,KAAK,EAAE,oBAAoB;IAC3BC,WAAW,EAAE,SAAS;IACtBC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,cAAc;IAClBC,KAAK,EAAE,sBAAsB;IAC7BC,WAAW,EAAE,oSAAoS;IACjTC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,kBAAkB;IACtBC,KAAK,EAAE,cAAc;IACrBC,WAAW,EAAE,sEAAsE;IACnFC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,eAAe;IACnBC,KAAK,EAAE,aAAa;IACpBC,WAAW,EAAE,+IAA+I;IAC5JC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACG;IACFE,EAAE,EAAE,SAAS;IACbC,KAAK,EAAE,eAAe;IACtBC,WAAW,EAAE,2BAA2B;IACxCC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,CAAC;IACd;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,aAAa;IACjBC,KAAK,EAAE,mBAAmB;IAC1BC,WAAW,EAAE,6DAA6D;IAC1EC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,YAAY;IAChBC,KAAK,EAAE,cAAc;IACrBC,WAAW,EAAE,mCAAmC;IAChDC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,YAAY;IAChBC,KAAK,EAAE,iBAAiB;IACxBC,WAAW,EAAE,6FAA6F;IAC1GC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,eAAe;IACnBC,KAAK,EAAE,kBAAkB;IACzBC,WAAW,EAAE,wEAAwE;IACrFC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,EACD;IACEE,EAAE,EAAE,UAAU;IACdC,KAAK,EAAE,yBAAyB;IAChCC,WAAW,EAAE,+NAA+N;IAC5OC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,GAAG;IACbC,WAAW,EAAE,EAAE;IACf;IACAC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAEX;GACZ,CACF;AACH,C;;;;;;;;;;;;;;;;;;;;;AC/oBuC;AAIyB;AACvB;AACa;;;;AAG/C,IAAMiB,aAAa;EAApB,MAAOA,aAAa;IAKdC,MAAA;IACAC,QAAA;IALFC,cAAc,GAAG,IAAIP,iDAAe,CAAgB,IAAI,CAAC;IACzDQ,SAAS;IAEjBC,YACUJ,MAAc,EACdC,QAAyB;MADzB,KAAAD,MAAM,GAANA,MAAM;MACN,KAAAC,QAAQ,GAARA,QAAQ;IACd;IAEJI,YAAYA,CAACC,KAAgB;MAC3B,IAAI,CAACH,SAAS,GAAGG,KAAK;IACxB;IAEAC,WAAWA,CAACC,MAAc;MACxB,MAAMC,IAAI,GAAG,IAAI,CAACN,SAAS,CAACO,MAAM,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAC5B,EAAE,KAAKwB,MAAM,CAAC;MAC7D,IAAI,CAACC,IAAI,EAAE;MAEX,MAAMI,kBAAkB,GAAGJ,IAAI,CAACK,UAAU,CAACC,MAAM,CAACC,GAAG,IACnDpB,4EAAiB,CAACoB,GAAG,CAACC,SAAS,EAAE,IAAI,CAACd,SAAS,CAACe,MAAM,CAAC,CACxD;MAED,MAAMC,MAAM,GAAW;QACrBnC,EAAE,EAAE,GAAGwB,MAAM,IAAIzB,IAAI,CAACD,GAAG,EAAE,EAAE;QAC7B0B,MAAM,EAAEC,IAAI,CAACzB,EAAE;QACfoC,kBAAkB,EAAEP,kBAAkB;QACtCQ,SAAS,EAAE,IAAItC,IAAI;OACpB;MAED,IAAI,CAACmB,cAAc,CAACoB,IAAI,CAACH,MAAM,CAAC;IAClC;IAEAI,gBAAgBA,CAAA;MACd,OAAO,IAAI,CAACrB,cAAc,CAACsB,YAAY,EAAE;IAC3C;IAEMC,YAAYA,CAACC,GAAY;MAAA,IAAAC,KAAA;MAAA,OAAAC,wKAAA;QAC7B,MAAMT,MAAM,GAAGQ,KAAI,CAACzB,cAAc,CAAC2B,KAAK;QACxC,IAAI,CAACV,MAAM,EAAE;QAEbA,MAAM,CAACW,OAAO,GAAGJ,GAAG,GAAG,KAAK,GAAG,MAAM;QACrCP,MAAM,CAACY,UAAU,GAAG,IAAIhD,IAAI,EAAE;QAE9B,MAAM0B,IAAI,GAAGkB,KAAI,CAACxB,SAAS,CAACO,MAAM,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAC5B,EAAE,KAAKmC,MAAM,CAACX,MAAM,CAAC;QACpE,IAAIC,IAAI,EAAE;UACR,IAAIiB,GAAG,EAAE;YACPjB,IAAI,CAACuB,QAAQ,GAAG,IAAI;UACtB,CAAC,MAAM;YACLvB,IAAI,CAACwB,QAAQ,GAAG,CAACxB,IAAI,CAACwB,QAAQ,IAAI,CAAC,IAAI,CAAC;UAC1C;QACF;QAEAN,KAAI,CAACxB,SAAS,CAAC+B,OAAO,CAACC,IAAI,CAAChB,MAAM,CAAC;QACnCQ,KAAI,CAACzB,cAAc,CAACoB,IAAI,CAAC,IAAI,CAAC;QAE9B,MAAMK,KAAI,CAAC1B,QAAQ,CAACmC,iBAAiB,EAAE;QAEvCT,KAAI,CAAC3B,MAAM,CAACqC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;MAAC;IAClC;IAEAC,WAAWA,CAAA;MACT,OAAO,IAAI,CAACnC,SAAS,CAAC+B,OAAO;IAC/B;;uBA7DWnC,aAAa,EAAAwC,sDAAA,CAAAE,mDAAA,GAAAF,sDAAA,CAAAG,+DAAA;IAAA;;aAAb3C,aAAa;MAAA4C,OAAA,EAAb5C,aAAa,CAAA6C,IAAA;MAAAC,UAAA,EADA;IAAM;;SACnB9C,aAAa;AAAA,K;;;;;;;;;;;;;;;;ACTa;;AAIhC,IAAM+C,WAAW;EAAlB,MAAOA,WAAW;IACdC,OAAO,GAAG,IAAIpD,iDAAe,CAAS,EAAE,CAAC;IACjDqD,SAASA,CAACtC,MAAc;MACtB,IAAI,CAACqC,OAAO,CAACzB,IAAI,CAAC,CAAC,GAAGZ,MAAM,CAAC,CAAC;IAChC;IAEAuC,SAASA,CAAA;MACP,OAAO,IAAI,CAACF,OAAO,CAACvB,YAAY,EAAE;IACpC;IAEAc,WAAWA,CAAA;MACT,OAAO,IAAI,CAACS,OAAO,CAAClB,KAAK;IAC3B;;uBAZWiB,WAAW;IAAA;;aAAXA,WAAW;MAAAH,OAAA,EAAXG,WAAW,CAAAF,IAAA;MAAAC,UAAA,EADE;IAAM;;SACnBC,WAAW;AAAA,K;;;;;;;;;;;;;;;;;;;ACJ6B;AAEf;;;AAQ/B,IAAMhD,eAAe;EAAtB,MAAOA,eAAe;IAINsD,EAAA;IAHZC,eAAe;IACfC,sBAAsB;IAE9BlD,YAAoBgD,EAAuB;MAAvB,KAAAA,EAAE,GAAFA,EAAE;IAAwB;IAE9CG,uBAAuBA,CAACC,OAAwB;MAC9C,IAAI,CAACF,sBAAsB,GAAGE,OAAO;IACvC;IAEMC,WAAWA,CAACnD,KAA4B;MAAA,IAAAqB,KAAA;MAAA,OAAAC,wKAAA;QAC5CtB,KAAK,CAACoD,SAAS,GAAG,IAAI3E,IAAI,EAAE;QAC5B,MAAM4E,MAAM,SAASR,oDAAc,CAACxB,KAAI,CAACyB,EAAE,CAACQ,GAAG,CAAC,YAAY,EAAEtD,KAAK,CAAC,CAAC;QACrE,MAAMtB,EAAE,GAAG,OAAO2E,MAAM,KAAK,QAAQ,GAAGA,MAAM,GAAIA,MAAc,CAAC3E,EAAE;QACnE2C,KAAI,CAAC0B,eAAe,GAAGrE,EAAE;QACzB,OAAO;UAAE,GAAGsB,KAAK;UAAEtB;QAAE,CAAE;MAAC;IAC1B;IAEMoD,iBAAiBA,CAAA;MAAA,IAAAyB,MAAA;MAAA,OAAAjC,wKAAA;QACrB,IAAI,CAACiC,MAAI,CAACP,sBAAsB,EAAE,MAAM,IAAIQ,KAAK,CAAC,iCAAiC,CAAC;QACpF,MAAMC,QAAQ,GAAGF,MAAI,CAACP,sBAAsB,EAAE;QAC9CS,QAAQ,CAACL,SAAS,GAAG,IAAI3E,IAAI,EAAE;QAC/B,OAAO8E,MAAI,CAACG,UAAU,CAACD,QAAQ,CAAC;MAAC;IACnC;IAEMC,UAAUA,CAAC1D,KAAgB;MAAA,IAAA2D,MAAA;MAAA,OAAArC,wKAAA;QAC/B,MAAMuB,oDAAc,CAACc,MAAI,CAACb,EAAE,CAACc,MAAM,CAAC,YAAY,EAAE5D,KAAK,CAAC,CAAC;QACzD,OAAOA,KAAK;MAAC;IACf;IAEM6D,QAAQA,CAACnF,EAAU;MAAA,IAAAoF,MAAA;MAAA,OAAAxC,wKAAA;QACvBwC,MAAI,CAACf,eAAe,GAAGrE,EAAE;QACzB,OAAOmE,oDAAc,CAACiB,MAAI,CAAChB,EAAE,CAACiB,QAAQ,CAAC,YAAY,EAAErF,EAAE,CAAC,CAAC;MAAC;IAC5D;IAEMsF,SAASA,CAAA;MAAA,IAAAC,MAAA;MAAA,OAAA3C,wKAAA;QACb,OAAOuB,oDAAc,CAACoB,MAAI,CAACnB,EAAE,CAACoB,MAAM,CAAC,YAAY,CAAC,CAAC;MAAC;IACtD;;uBArCW1E,eAAe,EAAAyC,sDAAA,CAAAE,+DAAA;IAAA;;aAAf3C,eAAe;MAAA6C,OAAA,EAAf7C,eAAe,CAAA8C,IAAA;MAAAC,UAAA,EADF;IAAM;;SACnB/C,eAAe;AAAA,K;;;;;;;;;;;;;;;;;ACVW;AAEoB;;;AAGpD,IAAM4E,gBAAgB;EAAvB,MAAOA,gBAAgB;IAGPC,KAAA;IAFZC,MAAM,GAAG,IAAIjF,iDAAe,CAAS,EAAE,CAAC;IAEhDS,YAAoBuE,KAAmB;MAAnB,KAAAA,KAAK,GAALA,KAAK;IAAiB;IAE1CE,YAAYA,CAACC,KAAa;MACxB,IAAI,CAACF,MAAM,CAACtD,IAAI,CAAC,CAAC,GAAGwD,KAAK,CAAC,CAAC;IAC9B;IAEAC,YAAYA,CAAA;MACV,OAAO,IAAI,CAACH,MAAM,CAACpD,YAAY,EAAE;IACnC;IAGFwD,OAAOA,CAACC,IAAU;MAChB,MAAMC,OAAO,GAAG,IAAI,CAACN,MAAM,CAAC/C,KAAK;MACjC,IAAI,CAAC+C,MAAM,CAACtD,IAAI,CAAC,CAAC,GAAG4D,OAAO,EAAED,IAAI,CAAC,CAAC;MAEpC;;;IAGF;IAEEE,QAAQA,CAACL,KAAa;MACtB,MAAMI,OAAO,GAAG,IAAI,CAACN,MAAM,CAAC/C,KAAK;MACjC,IAAI,CAAC+C,MAAM,CAACtD,IAAI,CAAC,CAAC,GAAG4D,OAAO,EAAE,GAAGJ,KAAK,CAAC,CAAC;IACxC;IAEAxC,WAAWA,CAAA;MACT,OAAO,IAAI,CAACsC,MAAM,CAAC/C,KAAK;IAC1B;;uBA9BW6C,gBAAgB,EAAAnC,sDAAA,CAAAE,qEAAA;IAAA;;aAAhBiC,gBAAgB;MAAA/B,OAAA,EAAhB+B,gBAAgB,CAAA9B,IAAA;MAAAC,UAAA,EADH;IAAM;;SACnB6B,gBAAgB;AAAA,K;;;;;;;;;;;;;;;;ACLU;;AAIhC,IAAMU,aAAa;EAApB,MAAOA,aAAa;IAChBC,OAAO,GAAG,IAAI1F,iDAAe,CAAqB,IAAI,CAAC;IAE/D2F,SAASA,CAACC,KAAkB;MAC1B,IAAI,CAACF,OAAO,CAAC/D,IAAI,CAAC;QAAE,GAAGiE;MAAK,CAAE,CAAC;IACjC;IAEAC,SAASA,CAAA;MACP,OAAO,IAAI,CAACH,OAAO,CAAC7D,YAAY,EAAE;IACpC;IAEAiE,YAAYA,CAACF,KAAkB;MAC7B,IAAI,CAACF,OAAO,CAAC/D,IAAI,CAAC;QAAE,GAAGiE;MAAK,CAAE,CAAC;IACjC;IAEAG,IAAIA,CAACC,MAAc;MACjB,MAAMJ,KAAK,GAAG,IAAI,CAACF,OAAO,CAACxD,KAAK;MAChC,IAAI,CAAC0D,KAAK,EAAE;MACZA,KAAK,CAACK,EAAE,IAAID,MAAM;MAClB,IAAI,CAACN,OAAO,CAAC/D,IAAI,CAAC;QAAE,GAAGiE;MAAK,CAAE,CAAC;IACjC;IAEAM,GAAGA,CAACF,MAAc;MAChB,MAAMJ,KAAK,GAAG,IAAI,CAACF,OAAO,CAACxD,KAAK;MAChC,IAAI,CAAC0D,KAAK,IAAIA,KAAK,CAACO,KAAK,GAAGH,MAAM,EAAE,OAAO,KAAK;MAChDJ,KAAK,CAACO,KAAK,IAAIH,MAAM;MACrB,IAAI,CAACN,OAAO,CAAC/D,IAAI,CAAC;QAAE,GAAGiE;MAAK,CAAE,CAAC;MAC/B,OAAO,IAAI;IACb;IAEAQ,QAAQA,CAACJ,MAAc;MACrB,MAAMJ,KAAK,GAAG,IAAI,CAACF,OAAO,CAACxD,KAAK;MAChC,IAAI,CAAC0D,KAAK,EAAE;MACZA,KAAK,CAACO,KAAK,IAAIH,MAAM;MACrB,IAAI,CAACN,OAAO,CAAC/D,IAAI,CAAC;QAAE,GAAGiE;MAAK,CAAE,CAAC;IACjC;IAEAS,KAAKA,CAACL,MAAc;MAClB,MAAMJ,KAAK,GAAG,IAAI,CAACF,OAAO,CAACxD,KAAK;MAChC,IAAI,CAAC0D,KAAK,EAAE;MACZA,KAAK,CAACU,UAAU,IAAIN,MAAM;MAC1B,IAAI,CAACN,OAAO,CAAC/D,IAAI,CAAC;QAAE,GAAGiE;MAAK,CAAE,CAAC;IACjC;IAEAW,WAAWA,CAACC,OAA6B;MACvC,MAAMjB,OAAO,GAAG,IAAI,CAACG,OAAO,CAACxD,KAAM;MACnC,IAAI,CAACwD,OAAO,CAAC/D,IAAI,CAAC;QAAE,GAAG4D,OAAO;QAAE,GAAGiB;MAAO,CAAE,CAAC;IAC/C;IAGA7D,WAAWA,CAAA;MACT,OAAO,IAAI,CAAC+C,OAAO,CAACxD,KAAK;IAC3B;;uBApDWuD,aAAa;IAAA;;aAAbA,aAAa;MAAAzC,OAAA,EAAbyC,aAAa,CAAAxC,IAAA;MAAAC,UAAA,EADA;IAAM;;SACnBuC,aAAa;AAAA,K;;;;;;;;;;;;;;;;;;;;;ACJa;AAEmC;AACnB;AACN;AACK;AACK;;;;;;AAGpD,IAAMgB,YAAY;EAAnB,MAAOA,YAAY;IAKbC,gBAAA;IACAC,aAAA;IACArG,QAAA;IACAsG,YAAA;IAPFC,OAAO,GAAG,IAAI7G,iDAAe,CAAU,EAAE,CAAC;IAC1C8G,SAAS,GAAG5H,wFAAe,EAAE;IAErCuB,YACUiG,gBAAkC,EAClCC,aAA4B,EAC5BrG,QAAyB,EACzBsG,YAA0B;MAH1B,KAAAF,gBAAgB,GAAhBA,gBAAgB;MAChB,KAAAC,aAAa,GAAbA,aAAa;MACb,KAAArG,QAAQ,GAARA,QAAQ;MACR,KAAAsG,YAAY,GAAZA,YAAY;IAClB;IAEJG,SAASA,CAACC,MAAe;MACvB,IAAI,CAACH,OAAO,CAAClF,IAAI,CAAC,CAAC,GAAGqF,MAAM,CAAC,CAAC;IAChC;IAEAC,SAASA,CAAA;MACP,OAAO,IAAI,CAACJ,OAAO,CAAChF,YAAY,EAAE;IACpC;IAEAqF,QAAQA,CAACC,KAAY;MACnB,MAAM5B,OAAO,GAAG,IAAI,CAACsB,OAAO,CAAC3E,KAAK;MAClC,MAAMkF,MAAM,GAAG7B,OAAO,CAAC8B,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACjI,EAAE,KAAK8H,KAAK,CAAC9H,EAAE,IAAI,CAAC8H,KAAK,CAACI,UAAU,CAAC;MACxE,IAAIH,MAAM,EAAE;MAEZ,MAAMI,QAAQ,GAAG;QAAE,GAAGL,KAAK;QAAErH,SAAS,EAAE,IAAIV,IAAI;MAAE,CAAE;MACpD,MAAMqI,OAAO,GAAG,CAAC,GAAGlC,OAAO,EAAEiC,QAAQ,CAAC;MAEtC,IAAI,CAACE,MAAM,CAACD,OAAO,CAAC,CAAC,CAAC;IACxB;IAEA;IACAE,YAAYA,CAACtI,EAAU;MACrB,MAAMuI,QAAQ,GAAG,IAAI,CAACd,SAAS,CAAC9F,IAAI,CAACsG,CAAC,IAAIA,CAAC,CAACjI,EAAE,KAAKA,EAAE,CAAC;MACtD,IAAI,CAACuI,QAAQ,EAAE,OAAO,KAAK;MAC3B,IAAI,CAACV,QAAQ,CAAC;QAAE,GAAGU;MAAQ,CAAE,CAAC;MAC9B,OAAO,IAAI;IACb;IAEAjF,WAAWA,CAAA;MACT,OAAO,IAAI,CAACkE,OAAO,CAAC3E,KAAK;IAC3B;IAEA2F,eAAeA,CAACzD,QAAiB;MAC/B,IAAI,CAACyC,OAAO,CAAClF,IAAI,CAACyC,QAAQ,CAAC;IAC7B;IAEA0D,aAAaA,CAACzI,EAAU,EAAEqH,gBAAkC,EAAEC,aAA4B;MACxF,MAAMc,OAAO,GAAG,IAAI,CAACZ,OAAO,CAAC3E,KAAK,CAAC6F,GAAG,CAACT,CAAC,IAAG;QACzC,IAAIA,CAAC,CAACjI,EAAE,KAAKA,EAAE,EAAE,OAAOiI,CAAC;QAEzB;QACA,IAAIA,CAAC,CAACzH,WAAW,EAAEmI,MAAM,EAAE;UACzB,MAAMnI,WAAW,GAAGyH,CAAC,CAACzH,WAAW,CAACkI,GAAG,CAACzC,IAAI,KAAK;YAAE,GAAGA,IAAI;YAAE2C,UAAU,EAAE,IAAI7I,IAAI;UAAE,CAAE,CAAC,CAAC;UACpFsH,gBAAgB,CAAClB,QAAQ,CAAC3F,WAAW,CAAC;QACxC;QAEA,IAAIyH,CAAC,CAAC3H,QAAQ,EAAE;UACdgH,aAAa,CAACN,KAAK,CAACiB,CAAC,CAAC3H,QAAQ,CAAC;QACjC;QAEA,IAAI2H,CAAC,CAAC1H,WAAW,EAAE;UACjB+G,aAAa,CAACP,QAAQ,CAACkB,CAAC,CAAC1H,WAAW,CAAC,CAAC,CAAC;QACzC;QAEA;QACA,IAAI0H,CAAC,CAACvH,gBAAgB,EAAEiI,MAAM,EAAE;UAC9B,KAAK,MAAME,MAAM,IAAIZ,CAAC,CAACvH,gBAAgB,EAAE;YACvC,MAAM6H,QAAQ,GAAG,IAAI,CAACd,SAAS,CAAC9F,IAAI,CAACsG,CAAC,IAAIA,CAAC,CAACjI,EAAE,KAAK6I,MAAM,CAAC;YAC1D,IAAIN,QAAQ,EAAE;cACZ,IAAI,CAACV,QAAQ,CAAC;gBAAE,GAAGU,QAAQ;gBAAE9H,SAAS,EAAE,IAAIV,IAAI;cAAE,CAAE,CAAC;YACvD;UACF;QACF;QAEA,OAAO;UAAE,GAAGkI,CAAC;UAAE7H,MAAM,EAAE,WAAW;UAAE0I,WAAW,EAAE,IAAI/I,IAAI;QAAE,CAAW;MACxE,CAAC,CAAC;MAEF;MACA,MAAMgJ,cAAc,GAAGX,OAAO,CAACrG,MAAM,CAACkG,CAAC,IAAIA,CAAC,CAAC7H,MAAM,KAAK,WAAW,CAAC,CAACuI,MAAM;MAC3ErB,aAAa,CAACJ,WAAW,CAAC;QAAE8B,eAAe,EAAED;MAAc,CAAE,CAAC;MAE9D;MACA,MAAME,SAAS,GAAG,IAAI,CAAC5B,gBAAgB,CAAC/D,WAAW,EAAE;MACrD,MAAM4F,UAAU,GAAa,EAAE;MAE/B,MAAMC,gBAAgB,GAAGF,SAAS,CAACP,GAAG,CAACzC,IAAI,IAAG;QAC5C,IACEA,IAAI,CAAC9F,IAAI,KAAK,WAAW,IACzB8F,IAAI,CAACmD,cAAc,IAAI,IAAI,IAC3BnD,IAAI,CAACmD,cAAc,IAAIL,cAAc,IACrC9C,IAAI,CAACoD,SAAS,KAAK,IAAI,EACvB;UACAH,UAAU,CAAC/F,IAAI,CAAC8C,IAAI,CAACqD,IAAI,CAAC;UAC1B,OAAO;YAAE,GAAGrD,IAAI;YAAEoD,SAAS,EAAE;UAAI,CAAE;QACrC;QACA,OAAOpD,IAAI;MACb,CAAC,CAAC;MAEF,IAAIiD,UAAU,CAACP,MAAM,GAAG,CAAC,EAAE;QACzB,IAAI,CAACtB,gBAAgB,CAACxB,YAAY,CAACsD,gBAAgB,CAAC;QAEpD,IAAI,CAAC5B,YAAY,CAACgC,IAAI,CAAC,sCAAsCL,UAAU,CAACM,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC;MACzF;MACA,IAAI,CAACnB,MAAM,CAACD,OAAkB,CAAC;IACjC;IAEAqB,UAAUA,CAACzJ,EAAU;MACnB,MAAMoI,OAAO,GAAG,IAAI,CAACZ,OAAO,CAAC3E,KAAK,CAAC6F,GAAG,CAACT,CAAC,IACtCA,CAAC,CAACjI,EAAE,KAAKA,EAAE,IAAIiI,CAAC,CAAC7H,MAAM,KAAK,MAAM,GAAG;QAAE,GAAG6H,CAAC;QAAE7H,MAAM,EAAE;MAAO,CAAE,GAAG6H,CAAC,CACnE;MAED,IAAI,CAACI,MAAM,CAACD,OAAkB,CAAC;IACjC;IAGAsB,SAASA,CAAC1J,EAAU;MAClB,MAAMoI,OAAO,GAAG,IAAI,CAACZ,OAAO,CAAC3E,KAAK,CAAC6F,GAAG,CAACT,CAAC,IAAG;QACzC,IAAIA,CAAC,CAACjI,EAAE,KAAKA,EAAE,EAAE,OAAOiI,CAAC;QAEzB,IAAI0B,cAAc,GAAG1B,CAAC,CAAC0B,cAAc,IAAI,CAAC;QAC1CA,cAAc,EAAE;QAEhB,MAAMC,QAAQ,GAAG3B,CAAC,CAACC,UAAU,IAAI,KAAK;QAEtC,OAAO;UACL,GAAGD,CAAC;UACJ7H,MAAM,EAAEwJ,QAAQ,GAAG,MAAM,GAAG,QAAQ;UACpCD;SACD;MACH,CAAC,CAAC;MAEF,IAAI,CAACtB,MAAM,CAACD,OAAkB,CAAC;IACjC;IAEAyB,WAAWA,CAAC7J,EAAU;MACpB,MAAMoI,OAAO,GAAG,IAAI,CAACZ,OAAO,CAAC3E,KAAK,CAAC6F,GAAG,CAACT,CAAC,IACtCA,CAAC,CAACjI,EAAE,KAAKA,EAAE,IAAIiI,CAAC,CAAC7H,MAAM,KAAK,OAAO,GAAG;QAAE,GAAG6H,CAAC;QAAE7H,MAAM,EAAE;MAAM,CAAE,GAAG6H,CAAC,CACnE;MACD,IAAI,CAACI,MAAM,CAACD,OAAkB,CAAC;IACjC;IAEQC,MAAMA,CAACD,OAAgB;MAC7B,IAAI,CAACZ,OAAO,CAAClF,IAAI,CAAC8F,OAAO,CAAC;MAC1B,IAAI,CAACnH,QAAQ,CAACmC,iBAAiB,EAAE;IACnC;;uBAhJWgE,YAAY,EAAA7D,sDAAA,CAAAE,gEAAA,GAAAF,sDAAA,CAAAG,0DAAA,GAAAH,sDAAA,CAAAuG,+DAAA,GAAAvG,sDAAA,CAAAwG,qEAAA;IAAA;;aAAZ3C,YAAY;MAAAzD,OAAA,EAAZyD,YAAY,CAAAxD,IAAA;MAAAC,UAAA,EADC;IAAM;;SACnBuD,YAAY;AAAA,K;;;;;;;;;;;;;;;;ACRc;;AAIhC,IAAM4C,WAAW;EAAlB,MAAOA,WAAW;IACdC,UAAU,GAAG,IAAItJ,iDAAe,CAAa,EAAE,CAAC;IAExDuJ,YAAYA,CAACpE,KAAiB;MAC5B,IAAI,CAACmE,UAAU,CAAC3H,IAAI,CAAC,CAAC,GAAGwD,KAAK,CAAC,CAAC;IAClC;IAEAqE,YAAYA,CAAA;MACV,OAAO,IAAI,CAACF,UAAU,CAACzH,YAAY,EAAE;IACvC;IAEA4H,WAAWA,CAACC,MAAc,EAAEC,KAAa;MACvC,MAAMpE,OAAO,GAAG,IAAI,CAAC+D,UAAU,CAACpH,KAAK;MACrC,MAAMuF,OAAO,GAAGlC,OAAO,CAACwC,GAAG,CAACzC,IAAI,IAC9BA,IAAI,CAACjG,EAAE,KAAKqK,MAAM,GAAG;QAAE,GAAGpE,IAAI;QAAEsE,KAAK,EAAEtE,IAAI,CAACsE,KAAK,GAAGD;MAAK,CAAE,GAAGrE,IAAI,CACnE;MACD,IAAI,CAACgE,UAAU,CAAC3H,IAAI,CAAC8F,OAAO,CAAC;IAC/B;IAEA9E,WAAWA,CAAA;MACT,OAAO,IAAI,CAAC2G,UAAU,CAACpH,KAAK;IAC9B;;uBArBWmH,WAAW;IAAA;;aAAXA,WAAW;MAAArG,OAAA,EAAXqG,WAAW,CAAApG,IAAA;MAAAC,UAAA,EADE;IAAM;;SACnBmG,WAAW;AAAA,K;;;;;;;;;;;;;;ACHlB,SAAUpJ,iBAAiBA,CAAC4J,UAAgC,EAAEjE,KAAkB;EACpF,OAAOiE,UAAU,CAACC,KAAK,CAACC,IAAI,IAAG;IAC7B,MAAMC,OAAO,GAAGpE,KAAK,CAACmE,IAAI,CAACE,IAAI,CAAC,IAAI,CAAC;IACrC,QAAQF,IAAI,CAACG,QAAQ;MACnB,KAAK,IAAI;QAAE,OAAOF,OAAO,IAAID,IAAI,CAAC7H,KAAK;MACvC,KAAK,IAAI;QAAE,OAAO8H,OAAO,IAAID,IAAI,CAAC7H,KAAK;MACvC,KAAK,GAAG;QAAE,OAAO8H,OAAO,GAAGD,IAAI,CAAC7H,KAAK;MACrC,KAAK,GAAG;QAAE,OAAO8H,OAAO,GAAGD,IAAI,CAAC7H,KAAK;MACrC,KAAK,IAAI;QAAE,OAAO8H,OAAO,KAAKD,IAAI,CAAC7H,KAAK;MACxC,KAAK,IAAI;QAAE,OAAO8H,OAAO,KAAKD,IAAI,CAAC7H,KAAK;MACxC;QAAS,OAAO,KAAK;IACvB;EACF,CAAC,CAAC;AACJ,C;;;;;;;;;;;;;;;;AChB+C;AACD;AACvC,SAASsB,cAAcA,CAAC6G,MAAM,EAAEC,MAAM,EAAE;EAC3C,MAAMC,SAAS,GAAG,OAAOD,MAAM,KAAK,QAAQ;EAC5C,OAAO,IAAIE,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACpC,MAAMC,UAAU,GAAG,IAAIP,uDAAc,CAAC;MAClCzI,IAAI,EAAGO,KAAK,IAAK;QACbuI,OAAO,CAACvI,KAAK,CAAC;QACdyI,UAAU,CAACC,WAAW,CAAC,CAAC;MAC5B,CAAC;MACDC,KAAK,EAAEH,MAAM;MACbI,QAAQ,EAAEA,CAAA,KAAM;QACZ,IAAIP,SAAS,EAAE;UACXE,OAAO,CAACH,MAAM,CAACS,YAAY,CAAC;QAChC,CAAC,MACI;UACDL,MAAM,CAAC,IAAIP,wDAAU,CAAC,CAAC,CAAC;QAC5B;MACJ;IACJ,CAAC,CAAC;IACFE,MAAM,CAACW,SAAS,CAACL,UAAU,CAAC;EAChC,CAAC,CAAC;AACN,C","sources":["./src/app/components/questlog/quest-pool.factory.ts","./src/app/core/services/battle.service.ts","./src/app/core/services/boss.service.ts","./src/app/core/services/game-save.service.ts","./src/app/core/services/inventory.service.ts","./src/app/core/services/player.service.ts","./src/app/core/services/quest.service.ts","./src/app/core/services/shop.service.ts","./src/app/core/utils/evaluate-condition.ts","./node_modules/rxjs/dist/esm/internal/firstValueFrom.js"],"sourcesContent":["import { Quest } from '@core/models/quest.model';\r\n\r\nexport function createQuestPool(): Quest[] {\r\n  const now = new Date();\r\n\r\n  return [\r\n    {\r\n      id: 'tutorial',\r\n      title: 'Es ist noch kein Meister vom Himmel gefallen',\r\n      description: `Du bekommst Informationen über das Event, die dazugehörigen Regeln und die App. Außerdem erhältst du ein Triple Triad Starter Deck. Somit steht deinem großen Abenteuer nichts mehr im Wege.`,\r\n      type: 'main',\r\n      status: 'open',\r\n      acquired: true,\r\n      rewardXp: 25,\r\n      rewardMoney: 5,\r\n      // rewardItems:\r\n      // - Triple Triad Starter Deck\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'ff-quiz-kaktor',\r\n      title: 'Der glücklichste Ort auf Erden',\r\n      description: `Ein aufgeregter Kaktor ist außer Rand und Band und beschießt alle, die ihm zu nahe kommen mit seinen spitzen Nadeln. Du musst diesem Treiben ein Ende setzen. Er läuft flink umher doch nach einiger Zeit bist du in der Lage ihn zu stellen. Ob sich diese Entscheidung jedoch als weise herausstellt wird sich noch zeigen.`,\r\n      type: 'main',\r\n      status: 'open',\r\n      acquired: true,\r\n      rewardXp: 400,\r\n      rewardMoney: 25,\r\n      // rewardItems:\r\n      // - Zufällige A-Karte (Triple Triad)\r\n      // - Gold Saucer Eintrittskarte\r\n      //   (Chocobo-Rennen, Dosenschießen, Pokerturnier, Sackwerfen, Fingerdarts, Ringwurf)\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'memory-warrior-light',\r\n      title: 'Das Lied von Schatten und Licht',\r\n      description: `Dir tritt die Inkarnation des Kriegers des Lichts entgegen. Fest entschlossen verurteilt er dich die wahre Inkarnation des Bösen zu sein, der Krieger der Dunkelheit. Er hat bei seiner Ehre geschworen alles dafür zu geben um deinem finsteren Treiben ein Ende zu setzen. Eine epische Schlacht zwischen Licht und Finsternis entscheidet über das Schicksal dieser Welt.`,\r\n      type: 'main',\r\n      status: 'open',\r\n      acquired: true,\r\n      rewardXp: 400,\r\n      rewardMoney: 25,\r\n      // rewardItems:\r\n      // - Zufällige A-Karte (Triple Triad)\r\n      // - Ziehe 3 Karten und verteile Schlücke\r\n      //   (Bilder und Asse = 10 Schlücke; Joker = 15 Schlücke)\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'mimikry-gogo',\r\n      title: 'Tanz mit dem Teufel',\r\n      description: `Ein Mann in seltsamen Kleidern versperrt dir wortlos den Weg. Niemand vermag mit Sicherheit zu sagen, wer oder gar was hinter dieser Maskerade steckt... Was hat er nur vor?`,\r\n      type: 'main',\r\n      status: 'open',\r\n      acquired: true,\r\n      rewardXp: 400,\r\n      rewardMoney: 25,\r\n      // rewardItems:\r\n      // - Zufällige A-Karte (Triple Triad)\r\n      // - Magic the Gathering Deck (Cloud)\r\n      // - Schaltet die Nebenquest \"Eine magische Zusammenkunft\" frei\r\n      rewardItems: [],\r\n      followUpQuestIds: ['magic-roman'], // optionaler Verweis\r\n      createdAt: now\r\n    },\r\n        {\r\n      id: 'music-siren',\r\n      title: 'Sirens Jukebox des Todes',\r\n      description: `Du nimmst einen wundervollen Klang in weiter Ferne wahr. Als du näher herantrittst ertönt eine Stimme in deinem Kopf. Die Stimme ersucht dich eine Beschwörungsformel aufzusagen, damit du ihn aus seiner Gefangenschaft befreien kannst. Du sprichst die Worte aus und ein wundersames Wesen mit Harfe und Flügeln manifestiert sich vor dir. Jedoch hat dieses Wesen seine wahren Absichten verschleiert, ehe du dich versiehst bist du in seinen Bann gezogen worden.`,\r\n      type: 'main',\r\n      status: 'open',\r\n      acquired: true,\r\n      rewardXp: 400,\r\n      rewardMoney: 25,\r\n      // rewardItems:\r\n      // - Zufällige A-Karte (Triple Triad)\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'yojimbo-bribe',\r\n      title: 'Die Höhle des Löwen',\r\n      description: `Ein ehemaliger Soldat der Bürgerwehr wurde einst als Bestia wiedergeboren. Er hat die Gestalt eines großen Samurai angenommen, sein treuer Hund Daigoro steht ihm stets zur Seite. Deine lange Suche nach dem Samurai war von Erfolg gekrönt. Er wirkt zugleich neugierig und dennoch desinteressiert über deine Ankunft. Bist du in der Lage diesen legendären Krieger von deinem Unterfangen überzeugen zu können?`,\r\n      type: 'main',\r\n      status: 'open',\r\n      acquired: true,\r\n      rewardXp: 400,\r\n      rewardMoney: 25,\r\n      // rewardItems:\r\n      // - Zufällige A-Karte (Triple Triad)\r\n      // - Yojimbo kann ab sofort beschworen werden\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'alchemy-seymour',\r\n      title: 'Der flüssige Tod',\r\n      description: `„Suche nicht nach Erbarmen in mir, suche nicht nach Mitgefühl in mir. Ich bin nicht das gütige Kind dieses neuen Zeitalters. Ich bin der Fels auf dessen Fundament es ruht. Wenn du dich nach Hoffnung sehnst, schaue dir an was ich geschaffen habe. Perfektion in seiner wahren Form! Ich bin die einzige Hoffnung, die es gibt. Ich halte das Schicksal dieser Welt in meinen Händen.“`,\r\n      type: 'main',\r\n      status: 'open',\r\n      acquired: true,\r\n      rewardXp: 400,\r\n      rewardMoney: 25,\r\n      // rewardItems:\r\n      // - Zufällige A-Karte (Triple Triad)\r\n      // - Wahl zwischen 1x Potion / Stärke- / Geschicklichkeits- / Intelligenztrank\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'finale-tracking',\r\n      title: 'Finale Junggesellen Fantasien',\r\n      description: `Auf deiner Reise wirst du auf viele Gefahren und Hürden treffen. Sechs mächtige Feinde sind wie aus dem Nichts aufgetaucht und terrorisieren nun das Land. Es ist deine Bestimmung diese Bosse zu bezwingen, denn du bist der Auserwählte. Verzage nicht und sammle all deinen Mut. Die bevorstehenden Aufgaben erfordern deine ganze Stärke, Geschick, Intelligenz und auch Ausdauer. Du wirst mit jeder dir gestellten Prüfung wachsen und am Ende deiner Reise für deine Mühen entlohnt werden.`,\r\n      type: 'main',\r\n      status: 'open',\r\n      acquired: true,\r\n      // rewardItems:\r\n      // - 1x Triple Triad Set\r\n      // - 1x FF8 Poker Deck\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n        {\r\n      id: 'chocobo-race',\r\n      title: 'Das Rennen der dunklen Feder',\r\n      description: `Gold Saucer Event (Für weitere Informationen siehe dir die separaten Spielregeln an)`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      rewardXp: 175,\r\n      rewardMoney: 10,\r\n      // rewardItems:\r\n      // - 1x Bobbycar\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'can-throwing',\r\n      title: 'Schnaps-Schuss',\r\n      description: `Gold Saucer Event (Für weitere Informationen siehe dir die separaten Spielregeln an)`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      // rewardXp: 25/50/75 XP (abhängig vom High Score)\r\n      // rewardMoney: 5/10/15 Gil (abhängig vom High Score)\r\n      rewardXp: 75,\r\n      rewardMoney: 15,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'poker-tournament',\r\n      title: 'Der große Bluff der Bierbarone',\r\n      description: `Gold Saucer Event (Für weitere Informationen siehe dir die separaten Spielregeln an)`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      // rewardXp: 200 XP (max)\r\n      // rewardMoney: 30 Gil (max)\r\n      rewardXp: 200,\r\n      rewardMoney: 30,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'bean-bag',\r\n      title: 'Der Sack muss ins Loch!',\r\n      description: `Gold Saucer Event (Für weitere Informationen siehe dir die separaten Spielregeln an)`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      rewardXp: 75,\r\n      rewardMoney: 15,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'fingerdarts',\r\n      title: 'Bullseye',\r\n      description: `Gold Saucer Event (Für weitere Informationen siehe dir die separaten Spielregeln an)`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: true,\r\n      rewardXp: 75,\r\n      rewardMoney: 15,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'ringwurf',\r\n      title: 'Ringe müssen her',\r\n      description: `Gold Saucer Event (Für weitere Informationen siehe dir die separaten Spielregeln an)`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 75,\r\n      rewardMoney: 15,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n        {\r\n      id: 'grill-anfeuern',\r\n      title: 'Brutzelnder Ruhm',\r\n      description: `Zünde den Grill an und lege somit den Grundstein für ein fürstliches Mahl.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 75,\r\n      rewardMoney: 5,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'knoten-challenge',\r\n      title: 'Der Knoten war schon so, ehrlich!',\r\n      description: `Meistere alle Knoten in einer Zeit von 30 Minuten, Seemann.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'peruecke-stylen',\r\n      title: 'Haarspalterei',\r\n      description: `Sorge dafür, dass deine Haare (Perücke) richtig toll aussehen.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 125,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'bananarama',\r\n      title: 'Bananarama',\r\n      description: `Verzehre innerhalb von 12 Minuten vier schmackhafte Bananen hintereinander ohne zu kotzen.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 125,\r\n      rewardMoney: 10,\r\n      // rewardItems:\r\n      // - 1x Banane\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'dreh-lauf',\r\n      title: 'Die taumelnden Titanen',\r\n      description: `Drehe dich 20x um die eigene Achse und laufe im Anschluss innerhalb von 25 Sekunden durch ein Ziel, welches sich 15 Meter weit entfernt befindet. Währenddessen darfst du nicht umkippen oder kotzen (Drehwürmer sind gestattet).`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 200,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'seilchen',\r\n      title: 'Spring vor Glück',\r\n      description: `Suche dir einen Gegner aus und springe innerhalb einer Minute häufiger mit dem Seil als dein Kontrahent.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'magic-roman',\r\n      title: 'Eine magische Zusammenkunft',\r\n      description: `Gewinne eine Partie Magic the Gathering gegen Roman (die Regeln findest du im Shop).`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 200,\r\n      rewardMoney: 20,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n        {\r\n      id: 'boccia',\r\n      title: 'Rock and Roll',\r\n      description: `Wähle einen Mitstreiter und zwei Gegner aus. Das Team, wessen Ball am Ende näher an der Markierung liegt gewinnt eine Partie. Gewinne 2 von 3 Partien um einen Sieg zu erringen.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 175,\r\n      rewardMoney: 15,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'willy-bier',\r\n      title: 'Wo ein Willy ist, ist auch ein Bier',\r\n      description: `Überzeuge Willy davon mit dir ein Bier im Gartenhaus zu trinken.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 75,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'schere-stein-papier',\r\n      title: 'Brunnen ist verboten!',\r\n      description: `Gewinne gegen alle anderen hintereinander in Schere, Stein, Papier.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'iq-test',\r\n      title: 'Weiser und Gelehrter',\r\n      description: `Stelle dich einem IQ-Test und beantworte entsprechende Fragen. Mindestens 80% der Fragen müssen korrekt sein, damit die Aufgabe als bestanden gilt.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 125,\r\n      rewardMoney: 0,\r\n      // rewardItems:\r\n      // - 1x Intelligenztrank (siehe Shop)\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'flunkyball',\r\n      title: 'Blitzball-Turnier',\r\n      description: `Gewinne in einem brutalen 3 gegen 3 mit deinem Team gegen das gegnerische Team in Sven's Lieblingsspiel Flunky Ball.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 175,\r\n      rewardMoney: 15,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'bierpong',\r\n      title: 'Die roten Kelche des Kater-Königs',\r\n      description: `Gewinne in einem erfrischenden 3 gegen 3 mit deinem Team gegen das gegnerische Team in Bierpong.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 175,\r\n      rewardMoney: 15,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'bier-test',\r\n      title: 'Hopfen-Herausforderung des Braumeisters',\r\n      description: `Du erhältst zwei Biere, erkenne anhand des köstlichen Geschmacks das Oettinger Pils.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 75,\r\n      rewardMoney: 0,\r\n      // rewardItems:\r\n      // - 1x Potion (siehe Shop)\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n        {\r\n      id: 'blumen-pfluecken',\r\n      title: 'Vier Blumen für ein Hallelujah',\r\n      description: `Entdecke den Baumkuschler in dir! Finde und pflücke 4 verschiedene Blumenarten.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 100,\r\n      rewardMoney: 5,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'gil-gestohlen',\r\n      title: 'Der ganz große Coup',\r\n      description: `Deine hart verdienten Gil wurden dir gestohlen. Einer dieser sechs Verdächtigen muss es gewesen sein! Errate den Dieb, aber vorsicht – eine falsche Anschuldigung wird man dir übel nehmen.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'foto-mission',\r\n      title: 'Porträt-Panik',\r\n      description: `Mache mit allen Beteiligten ein schönes Erinnerungsfoto – entweder als Selfie oder mit Auslöser.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 75,\r\n      rewardMoney: 5,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'fruehstueck',\r\n      title: 'Toast der tausend Mägen',\r\n      description: `Bereite ein nahrhaftes Frühstück in Form von Rührei für die Gruppe vor.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 150,\r\n      rewardMoney: 15,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'kueche-aufraeumen',\r\n      title: 'Moogle-Mopp-Mission',\r\n      description: `Die Küche muss \"besenrein\" sein, Captain Milosz meldet sich nicht zum Putzdienst.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 200,\r\n      rewardMoney: 15,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'piktomant',\r\n      title: 'Der Weg des Piktomanten',\r\n      description: `Zeichne ein vorgegebenes Bild innerhalb von 5 Minuten nach – kannst du die Kunstkritiker zufriedenstellen?`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 125,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'eierlauf',\r\n      title: 'Eieiei',\r\n      description: `Transportiere ein Ei mit einem Löffel im Mund 15 Meter nach vorne ohne, dass es herunterfällt. Laufe einfach dabei wie auf Eierschalen.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 175,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n        {\r\n      id: 'triple-triad',\r\n      title: 'Das Herz der Karten',\r\n      description: `Gewinne dein erstes Triple Triad Spiel.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 125,\r\n      rewardMoney: 0,\r\n      // rewardItems:\r\n      // - 1x Triple Triad Karte \"Common\" (siehe Shop)\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'kniebeugen',\r\n      title: 'Rhythmus im Blut',\r\n      description: `Mache 30 Kniebeugen im perfekten Rhythmus – ein Gruppenmitglied zählt im Takt 1-2-3-herunter. Wer aus dem Takt kommt, fängt von vorne an.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'escort',\r\n      title: 'Bitte nicht alleine lassen',\r\n      description: `Begleite ein Gruppenmitglied auf seiner Reise und schütze ihn dabei vor allen Gefahren.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 175,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'milosz-spiel',\r\n      title: 'Milosz – Das Spiel',\r\n      description: `Milosz.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 200,\r\n      rewardMoney: 20,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'nicht-lachen',\r\n      title: 'Warum denn so ernst?',\r\n      description: `Suche dir einen Teampartner und zwei Gegner aus (Milosz ist der Moderator). Ihr müsst euch über mehrere Runden witzige Dinge angucken und dürft dabei nicht lachen, ansonsten gilt die Runde als verloren und das gegnerische Team bekommt einen Punkt. Welches Team zuerst 8 Punkte hat, gewinnt.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'daumen-wrestling',\r\n      title: 'Daumen-König',\r\n      description: `Tritt gegen jeden Kontrahenten hintereinander im Daumenwrestling an.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'papierflieger',\r\n      title: 'Hoch hinaus',\r\n      description: `Suche dir einen Gegner aus, anschließend baut ihr beide einen Papierflieger. Der Papierflieger, der eine größere Strecke zurücklegt, gewinnt.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 125,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n        {\r\n      id: 'karaoke',\r\n      title: 'Karaoke Abend',\r\n      description: `Singe dein Lieblingslied.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 100,\r\n      rewardMoney: 5,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'armdruecken',\r\n      title: 'Muskeln aus Stahl',\r\n      description: `Fordere jemanden zu einem Armdrückduell heraus und gewinne.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'vogelsuche',\r\n      title: 'Chocobo Snap',\r\n      description: `Mache ein Selfie mit einem Vogel.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'mario-kart',\r\n      title: 'Heißes Pflaster',\r\n      description: `Patrick muss immer den ersten Platz auf dem Schwierigkeitsgrad 100cc Star Cup Race belegen.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 175,\r\n      rewardMoney: 15,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'versteckspiel',\r\n      title: '1 2 3 4 Eckstein',\r\n      description: `Zähle bis 10 und suche den versteckten Kaktor innerhalb von 5 Minuten.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    },\r\n    {\r\n      id: 'mordfall',\r\n      title: 'Wer erschoss Mr Milosz?',\r\n      description: `Ein Mord hat sich ereignet. Nutze all deine Kombinationsfähigkeit, um diesen schwierigen Fall zu lösen. Der Fall gilt erst als abgeschlossen, wenn es genügend Beweise für eine gerichtsfeste Anklage oder Verurteilung gibt.`,\r\n      type: 'side',\r\n      status: 'open',\r\n      acquired: false,\r\n      rewardXp: 150,\r\n      rewardMoney: 10,\r\n      // rewardItems: keine\r\n      rewardItems: [],\r\n      createdAt: now\r\n    }\r\n  ];\r\n}\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { Boss } from '../models/boss.model';\r\nimport { GameState } from '../models/game-state.model';\r\nimport { Battle } from '../models/battle.model';\r\nimport { evaluateCondition } from '../utils/evaluate-condition';\r\nimport { Router } from '@angular/router';\r\nimport { GameSaveService } from './game-save.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class BattleService {\r\n  private currentBattle$ = new BehaviorSubject<Battle | null>(null);\r\n  private gameState!: GameState;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private gameSave: GameSaveService\r\n  ) { }\r\n\r\n  setGameState(state: GameState) {\r\n    this.gameState = state;\r\n  }\r\n\r\n  startBattle(bossId: string): void {\r\n    const boss = this.gameState.bosses.find(b => b.id === bossId);\r\n    if (!boss) return;\r\n\r\n    const unlockedAdvantages = boss.advantages.filter(adv =>\r\n      evaluateCondition(adv.condition, this.gameState.player)\r\n    );\r\n\r\n    const battle: Battle = {\r\n      id: `${bossId}-${Date.now()}`,\r\n      bossId: boss.id,\r\n      advantagesUnlocked: unlockedAdvantages,\r\n      startedAt: new Date()\r\n    };\r\n\r\n    this.currentBattle$.next(battle);\r\n  }\r\n\r\n  getCurrentBattle() {\r\n    return this.currentBattle$.asObservable();\r\n  }\r\n\r\n  async finishBattle(won: boolean): Promise<void> {\r\n    const battle = this.currentBattle$.value;\r\n    if (!battle) return;\r\n\r\n    battle.outcome = won ? 'win' : 'loss';\r\n    battle.finishedAt = new Date();\r\n\r\n    const boss = this.gameState.bosses.find(b => b.id === battle.bossId);\r\n    if (boss) {\r\n      if (won) {\r\n        boss.defeated = true;\r\n      } else {\r\n        boss.attempts = (boss.attempts || 0) + 1;\r\n      }\r\n    }\r\n\r\n    this.gameState.battles.push(battle);\r\n    this.currentBattle$.next(null);\r\n\r\n    await this.gameSave.updateCurrentGame();\r\n\r\n    this.router.navigate(['/game']);\r\n  }\r\n\r\n  getSnapshot(): Battle[] {\r\n    return this.gameState.battles;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { Boss } from '../models/boss.model';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class BossService {\r\n  private bosses$ = new BehaviorSubject<Boss[]>([]);  \r\n  setBosses(bosses: Boss[]) {\r\n    this.bosses$.next([...bosses]);\r\n  }\r\n\r\n  getBosses() {\r\n    return this.bosses$.asObservable();\r\n  }\r\n\r\n  getSnapshot(): Boss[] {\r\n    return this.bosses$.value;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { NgxIndexedDBService } from 'ngx-indexed-db';\r\nimport { GameState } from '../models/game-state.model';\r\nimport { firstValueFrom } from 'rxjs';\r\nimport { PlayerService } from './player.service';\r\nimport { InventoryService } from './inventory.service';\r\nimport { ShopService } from './shop.service';\r\nimport { BattleService } from './battle.service';\r\nimport { BossService } from './boss.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class GameSaveService {\r\n  private lastGameStateId!: number;\r\n  private currentSnapshotBuilder!: () => GameState;\r\n\r\n  constructor(private db: NgxIndexedDBService) {}\r\n\r\n  registerSnapshotBuilder(builder: () => GameState) {\r\n    this.currentSnapshotBuilder = builder;\r\n  }\r\n\r\n  async saveNewGame(state: Omit<GameState, 'id'>): Promise<GameState> {\r\n    state.updatedAt = new Date();\r\n    const result = await firstValueFrom(this.db.add('gameStates', state));\r\n    const id = typeof result === 'number' ? result : (result as any).id;\r\n    this.lastGameStateId = id;\r\n    return { ...state, id };\r\n  }\r\n\r\n  async updateCurrentGame(): Promise<GameState> {\r\n    if (!this.currentSnapshotBuilder) throw new Error('No snapshot builder registered.');\r\n    const snapshot = this.currentSnapshotBuilder();\r\n    snapshot.updatedAt = new Date();\r\n    return this.updateGame(snapshot);\r\n  }\r\n\r\n  async updateGame(state: GameState): Promise<GameState> {\r\n    await firstValueFrom(this.db.update('gameStates', state));\r\n    return state;\r\n  }\r\n\r\n  async loadGame(id: number): Promise<GameState> {\r\n    this.lastGameStateId = id;\r\n    return firstValueFrom(this.db.getByKey('gameStates', id));\r\n  }\r\n\r\n  async listGames(): Promise<GameState[]> {\r\n    return firstValueFrom(this.db.getAll('gameStates'));\r\n  }\r\n}\r\n\r\n  /* deleteGame(id: number): Promise<void> {\r\n   return firstValueFrom(this.db.delete('gameStates', id));\r\n   }*/\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { Item } from '../models/item.model';\r\nimport { ToastService } from '@views/toasts/toast.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class InventoryService {\r\n  private items$ = new BehaviorSubject<Item[]>([]);\r\n\r\n  constructor(private toast: ToastService) {}\r\n\r\n  setInventory(items: Item[]) {\r\n    this.items$.next([...items]);\r\n  }\r\n\r\n  getInventory() {\r\n    return this.items$.asObservable();\r\n  }\r\n\r\n  \r\naddItem(item: Item) {\r\n  const current = this.items$.value;\r\n  this.items$.next([...current, item]);\r\n\r\n  /*if (item.available !== false) {\r\n    this.toast.show(`📦 Neues Item erhalten: ${item.name}`);\r\n  }*/\r\n}\r\n\r\n  addItems(items: Item[]) {\r\n  const current = this.items$.value;\r\n  this.items$.next([...current, ...items]);\r\n  }\r\n\r\n  getSnapshot(): Item[] {\r\n    return this.items$.value;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { PlayerStats } from '../models/player-stats.model';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class PlayerService {\r\n  private player$ = new BehaviorSubject<PlayerStats | null>(null);\r\n\r\n  setPlayer(stats: PlayerStats) {\r\n    this.player$.next({ ...stats });\r\n  }\r\n\r\n  getPlayer() {\r\n    return this.player$.asObservable();\r\n  }\r\n\r\n  updatePlayer(stats: PlayerStats) {\r\n    this.player$.next({ ...stats });\r\n  }\r\n\r\n  heal(amount: number) {\r\n    const stats = this.player$.value;\r\n    if (!stats) return;\r\n    stats.hp += amount;\r\n    this.player$.next({ ...stats });\r\n  }\r\n\r\n  pay(amount: number): boolean {\r\n    const stats = this.player$.value;\r\n    if (!stats || stats.money < amount) return false;\r\n    stats.money -= amount;\r\n    this.player$.next({ ...stats });\r\n    return true;\r\n  }\r\n\r\n  addMoney(amount: number) {\r\n    const stats = this.player$.value;\r\n    if (!stats) return;\r\n    stats.money += amount;\r\n    this.player$.next({ ...stats });\r\n  }\r\n\r\n  addXp(amount: number) {\r\n    const stats = this.player$.value;\r\n    if (!stats) return;\r\n    stats.experience += amount;\r\n    this.player$.next({ ...stats });\r\n  }\r\n\r\n  updateStats(partial: Partial<PlayerStats>) {\r\n    const current = this.player$.value!;\r\n    this.player$.next({ ...current, ...partial });\r\n  }\r\n\r\n\r\n  getSnapshot(): PlayerStats | null {\r\n    return this.player$.value;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { Quest } from '../models/quest.model';\r\nimport { createQuestPool } from '@components/questlog/quest-pool.factory';\r\nimport { InventoryService } from './inventory.service';\r\nimport { PlayerService } from './player.service';\r\nimport { GameSaveService } from './game-save.service';\r\nimport { ToastService } from '@views/toasts/toast.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class QuestService {\r\n  private quests$ = new BehaviorSubject<Quest[]>([]);\r\n  private questPool = createQuestPool();\r\n\r\n  constructor(\r\n    private inventoryService: InventoryService,\r\n    private playerService: PlayerService,\r\n    private gameSave: GameSaveService,\r\n    private toastService: ToastService\r\n  ) { }\r\n\r\n  setQuests(quests: Quest[]) {\r\n    this.quests$.next([...quests]);\r\n  }\r\n\r\n  getQuests() {\r\n    return this.quests$.asObservable();\r\n  }\r\n\r\n  addQuest(quest: Quest) {\r\n    const current = this.quests$.value;\r\n    const exists = current.some(q => q.id === quest.id && !quest.repeatable);\r\n    if (exists) return;\r\n\r\n    const newQuest = { ...quest, createdAt: new Date() };\r\n    const updated = [...current, newQuest];\r\n\r\n    this.commit(updated); // ✅ persistente Speicherung\r\n  }\r\n\r\n  /** Aufrufbar per QR-Scan */\r\n  addQuestById(id: string): boolean {\r\n    const template = this.questPool.find(q => q.id === id);\r\n    if (!template) return false;\r\n    this.addQuest({ ...template });\r\n    return true;\r\n  }\r\n\r\n  getSnapshot(): Quest[] {\r\n    return this.quests$.value;\r\n  }\r\n\r\n  setFromSnapshot(snapshot: Quest[]) {\r\n    this.quests$.next(snapshot);\r\n  }\r\n\r\n  markCompleted(id: string, inventoryService: InventoryService, playerService: PlayerService) {\r\n    const updated = this.quests$.value.map(q => {\r\n      if (q.id !== id) return q;\r\n\r\n      // Rewards:\r\n      if (q.rewardItems?.length) {\r\n        const rewardItems = q.rewardItems.map(item => ({ ...item, acquiredAt: new Date() }));\r\n        inventoryService.addItems(rewardItems);\r\n      }\r\n\r\n      if (q.rewardXp) {\r\n        playerService.addXp(q.rewardXp);\r\n      }\r\n\r\n      if (q.rewardMoney) {\r\n        playerService.addMoney(q.rewardMoney); // oder wie auch immer du Geld speicherst\r\n      }\r\n\r\n      // Folgequests hinzufügen\r\n      if (q.followUpQuestIds?.length) {\r\n        for (const nextId of q.followUpQuestIds) {\r\n          const template = this.questPool.find(q => q.id === nextId);\r\n          if (template) {\r\n            this.addQuest({ ...template, createdAt: new Date() });\r\n          }\r\n        }\r\n      }\r\n\r\n      return { ...q, status: 'completed', completedAt: new Date() } as Quest;\r\n    });\r\n\r\n    // Quests zählen\r\n    const completedCount = updated.filter(q => q.status === 'completed').length;\r\n    playerService.updateStats({ questsCompleted: completedCount });\r\n\r\n    // Neue Equipment-Items freischalten\r\n    const inventory = this.inventoryService.getSnapshot();\r\n    const newUnlocks: string[] = [];\r\n\r\n    const updatedInventory = inventory.map(item => {\r\n      if (\r\n        item.type === 'equipment' &&\r\n        item.questsRequired != null &&\r\n        item.questsRequired <= completedCount &&\r\n        item.available !== true\r\n      ) {\r\n        newUnlocks.push(item.name);\r\n        return { ...item, available: true };\r\n      }\r\n      return item;\r\n    });\r\n\r\n    if (newUnlocks.length > 0) {\r\n      this.inventoryService.setInventory(updatedInventory);\r\n\r\n      this.toastService.show(`Neue Ausrüstung freigeschaltet:\\n- ${newUnlocks.join('\\n- ')}`);\r\n    }\r\n    this.commit(updated as Quest[]);\r\n  }\r\n\r\n  startQuest(id: string) {\r\n    const updated = this.quests$.value.map(q =>\r\n      q.id === id && q.status === 'open' ? { ...q, status: 'doing' } : q\r\n    );\r\n\r\n    this.commit(updated as Quest[]);\r\n  }\r\n\r\n\r\n  failQuest(id: string) {\r\n    const updated = this.quests$.value.map(q => {\r\n      if (q.id !== id) return q;\r\n\r\n      let failedAttempts = q.failedAttempts ?? 0;\r\n      failedAttempts++;\r\n\r\n      const canRetry = q.repeatable ?? false;\r\n\r\n      return {\r\n        ...q,\r\n        status: canRetry ? 'open' : 'failed',\r\n        failedAttempts\r\n      };\r\n    });\r\n\r\n    this.commit(updated as Quest[]);\r\n  }\r\n\r\n  cancelQuest(id: string) {\r\n    const updated = this.quests$.value.map(q =>\r\n      q.id === id && q.status === 'doing' ? { ...q, status: 'open' } : q\r\n    );\r\n    this.commit(updated as Quest[]);\r\n  }\r\n\r\n  private commit(updated: Quest[]) {\r\n    this.quests$.next(updated);\r\n    this.gameSave.updateCurrentGame();\r\n  }\r\n}\r\n","// core/services/shop.service.ts\r\nimport { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { ShopItem } from '../models/item.model';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ShopService {\r\n  private shopItems$ = new BehaviorSubject<ShopItem[]>([]);\r\n\r\n  setShopItems(items: ShopItem[]) {\r\n    this.shopItems$.next([...items]);\r\n  }\r\n\r\n  getShopItems() {\r\n    return this.shopItems$.asObservable();\r\n  }\r\n\r\n  updateStock(itemId: string, delta: number) {\r\n    const current = this.shopItems$.value;\r\n    const updated = current.map(item =>\r\n      item.id === itemId ? { ...item, stock: item.stock + delta } : item\r\n    );\r\n    this.shopItems$.next(updated);\r\n  }\r\n\r\n  getSnapshot(): ShopItem[] {\r\n    return this.shopItems$.value;\r\n  }\r\n}\r\n","import { AdvantageCondition } from '../models/boss.model';\r\nimport { PlayerStats } from '../models/player-stats.model';\r\n\r\nexport function evaluateCondition(conditions: AdvantageCondition[], stats: PlayerStats): boolean {\r\n  return conditions.every(cond => {\r\n    const statVal = stats[cond.stat] ?? 0;\r\n    switch (cond.operator) {\r\n      case '>=': return statVal >= cond.value;\r\n      case '<=': return statVal <= cond.value;\r\n      case '>': return statVal > cond.value;\r\n      case '<': return statVal < cond.value;\r\n      case '==': return statVal === cond.value;\r\n      case '!=': return statVal !== cond.value;\r\n      default: return false;\r\n    }\r\n  });\r\n}\r\n\r\n","import { EmptyError } from './util/EmptyError';\nimport { SafeSubscriber } from './Subscriber';\nexport function firstValueFrom(source, config) {\n    const hasConfig = typeof config === 'object';\n    return new Promise((resolve, reject) => {\n        const subscriber = new SafeSubscriber({\n            next: (value) => {\n                resolve(value);\n                subscriber.unsubscribe();\n            },\n            error: reject,\n            complete: () => {\n                if (hasConfig) {\n                    resolve(config.defaultValue);\n                }\n                else {\n                    reject(new EmptyError());\n                }\n            },\n        });\n        source.subscribe(subscriber);\n    });\n}\n"],"names":["createQuestPool","now","Date","id","title","description","type","status","acquired","rewardXp","rewardMoney","rewardItems","createdAt","followUpQuestIds","BehaviorSubject","evaluateCondition","Router","GameSaveService","BattleService","router","gameSave","currentBattle$","gameState","constructor","setGameState","state","startBattle","bossId","boss","bosses","find","b","unlockedAdvantages","advantages","filter","adv","condition","player","battle","advantagesUnlocked","startedAt","next","getCurrentBattle","asObservable","finishBattle","won","_this","_asyncToGenerator","value","outcome","finishedAt","defeated","attempts","battles","push","updateCurrentGame","navigate","getSnapshot","i0","ɵɵinject","i1","i2","factory","ɵfac","providedIn","BossService","bosses$","setBosses","getBosses","NgxIndexedDBService","firstValueFrom","db","lastGameStateId","currentSnapshotBuilder","registerSnapshotBuilder","builder","saveNewGame","updatedAt","result","add","_this2","Error","snapshot","updateGame","_this3","update","loadGame","_this4","getByKey","listGames","_this5","getAll","ToastService","InventoryService","toast","items$","setInventory","items","getInventory","addItem","item","current","addItems","PlayerService","player$","setPlayer","stats","getPlayer","updatePlayer","heal","amount","hp","pay","money","addMoney","addXp","experience","updateStats","partial","QuestService","inventoryService","playerService","toastService","quests$","questPool","setQuests","quests","getQuests","addQuest","quest","exists","some","q","repeatable","newQuest","updated","commit","addQuestById","template","setFromSnapshot","markCompleted","map","length","acquiredAt","nextId","completedAt","completedCount","questsCompleted","inventory","newUnlocks","updatedInventory","questsRequired","available","name","show","join","startQuest","failQuest","failedAttempts","canRetry","cancelQuest","i3","i4","ShopService","shopItems$","setShopItems","getShopItems","updateStock","itemId","delta","stock","conditions","every","cond","statVal","stat","operator","EmptyError","SafeSubscriber","source","config","hasConfig","Promise","resolve","reject","subscriber","unsubscribe","error","complete","defaultValue","subscribe"],"sourceRoot":"webpack:///","x_google_ignoreList":[9]}